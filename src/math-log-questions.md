# Mathematical Logic Questions

<p><a href="#1-исчисление-высказываний-общезначимость-следование-доказуемость-выводимость-корректность-полнота-непротиворечивость-теорема-о-дедукции-для-исчисления-высказываний">1.  Исчисление высказываний. Общезначимость, следование, доказуемость, выводимость. Корректность, полнота, непротиворечивость. Теорема о дедукции для исчисления высказываний.</a></p>
<p><a href="#2-теорема-о-полноте-исчисления-высказываний">2.  Теорема о полноте исчисления высказываний.</a></p>
<p><a href="#3-интуиционистское-исчисление-высказываний-bhk-интерпретация-решётки-булевы-и-псевдобулевы-алгебры-теорема-гливенко">3.  Интуиционистское исчисление высказываний. BHK-интерпретация. Решётки. Булевы и псевдобулевы алгебры. Теорема Гливенко</a></p>
<p><a href="#4-алгебра-линденбаума-полнота-интуиционистского-исчисления-высказываний-в-псевдобулевых-алгебрах">4.  Алгебра Линденбаума. Полнота интуиционистского исчисления высказываний в псевдобулевых алгебрах.</a></p>
<p><a href="#5-модели-крипке-сведение-моделей-крипке-к-псевдобулевым-алгебрам-нетабличность-интуиционистского-исчисления-высказываний">5.  Модели Крипке. Сведение моделей Крипке к псевдобулевым алгебрам. Нетабличность интуиционистского исчисления высказываний.</a></p>
<p><a href="#6-гёделева-алгебра-операция-gammaa-дизъюнктивность-интуиционистского-исчисления-высказываний">6.  Гёделева алгебра. Операция Г(А). Дизъюнктивность интуиционистского исчисления высказываний.</a></p>
<p><a href="#7-исчисление-предикатов-общезначимость-следование-выводимость-теорема-о-дедукции-в-исчислении-предикатов">7. Исчисление предикатов. Общезначимость, следование, выводимость. Теорема о дедукции в исчислении предикатов.</a></p>
<p><a href="#8-непротиворечивые-множества-формул-доказательство-существования-моделей-у-непротиворечивых-множеств-формул-в-бескванторном-исчислении-предикатов">8.  Непротиворечивые множества формул. Доказательство существования моделей у непротиворечивых множеств формул в бескванторном исчислении предикатов.</a></p>
<p><a href="#9-теорема-гёделя-о-полноте-исчисления-предикатов-доказательство-полноты-исчисления-предикатов">9.  Теорема Гёделя о полноте исчисления предикатов. Доказательство полноты исчисления предикатов.</a></p>
<p><a href="#10-теории-первого-порядка-структуры-и-модели-аксиоматика-пеано-арифметические-операции-формальная-арифметика">10.  Теории первого порядка, структуры и модели. Аксиоматика Пеано. Арифметические операции. Формальная арифметика.</a></p>
<p><a href="#11-примитивно-рекурсивные-и-рекурсивные-функции-функция-аккермана-примитивная-рекурсивность-арифметических-функций-функций-вычисления-простых-чисел-частичного-логарифма">11. Примитивно-рекурсивные и рекурсивные функции. Функция Аккермана. Примитивная рекурсивность арифметических функций, функций вычисления простых чисел, частичного логарифма.</a></p>
<p><a href="#12-выразимость-отношений-и-представимость-функций-в-формальной-арифметике-представимость-примитивов-n-z-s-u-в-формальной-арифметике">12. Выразимость отношений и представимость функций в формальной арифметике. Представимость примитивов N,Z,S,U в формальной арифметике.</a></p>
<p><a href="#13-бета-функция-гёделя-представимость-примитивов-r-и-m-и-рекурсивных-функций-в-формальной-арифметике">13. Бета-функция Гёделя. Представимость примитивов R и M и рекурсивных функций в формальной арифметике.</a></p>
<p><a href="#14-гёделева-нумерация-рекурсивность-представимых-в-формальной-арифметике-функций">14. Гёделева нумерация. Рекурсивность представимых в формальной арифметике функций.</a></p>
<p><a href="#15-непротиворечивость-и-omega-непротиворечивость-первая-теорема-гёделя-о-неполноте-арифметики-её-неформальный-смысл">15.  Непротиворечивость и w-непротиворечивость. Первая теорема Гёделя о неполноте арифметики, её неформальный смысл.</a></p>
<p><a href="#16-формулировка-первой-теоремы-гёделя-о-неполноте-арифметики-в-форме-россера-её-неформальный-смысл-формулировка-второй-теоремы-гёделя-о-неполноте-арифметики-consis-неформальное-пояснение-метода-доказательства">16. Формулировка первой теоремы Гёделя о неполноте арифметики в форме Россера, её неформальный смысл. Формулировка второй теоремы Гёделя о неполноте арифметики, Consis. Неформальное пояснение метода доказательства.</a></p>
<p><a href="#дополнение">Дополнение.</a></p>


 ## 1.  Исчисление высказываний. Общезначимость, следование, доказуемость, выводимость. Корректность, полнота, непротиворечивость. Теорема о дедукции для исчисления высказываний.

* Предметный и мета языки.

  * Мета-язык.
    1. Метапеременные для пропозициональных переменных: $X,Y,Z$ 
    2. Метапеременные для высказываний: $\alpha,\beta,\gamma...$ 
  
  * Предметный.
    
    1. Алфавит. $A,B,C'',D_{123}$ - пропозициональные переменные, $\neg,\vee,\&\rightarrow$ - связки, $(,)$ - скобки
    2. Высказывание: 1) Пропозициональная переменная. 2) ($\neg\alpha$), ($\alpha\&\beta$)..., где $\alpha,\beta$ - высказывания.

  * Приоритеты по убыванию: $\neg,\&,\vee,\rightarrow$. Правая ассоциативность только у $\rightarrow$.

* Теория моделей
  * $V$ - множество истинностных значений. $\{И,Л\}$
  * Функция оценки для переменных: $f_p:P\rightarrow V$, где $P$ - множество предметных переменных
  * Оценки для высказываний (индукция по структуре):

    $$
      [\alpha] =
        \left \{
          \begin{array}{ll}
            f_{\neg}([\beta]),\ если\ \alpha=\neg\beta\\
            f_{\&}([\beta],[\gamma]),\ если\ \alpha=\beta\&\gamma\\
            f_{\vee}([\beta],[\gamma]),\ если\ \alpha=\beta\vee\gamma\\
            f_{\rightarrow}([\beta],[\gamma]),\ если\ \alpha=\beta\rightarrow\gamma\\
            f_{p}([X]),\ если\ \alpha=X
          \end{array}
        \right.
    $$ 

* **Общезначимость( $\models \alpha$ ) .** Общезначимое высказывание - высказывание, которое истинно при любой оценке пропозициональных переменных. 

* **Следование( $\Gamma\models\alpha$ ).** Пусть $\Gamma =\gamma_1,\gamma_2,\ ...,\gamma_n$. Тогда $\alpha$ следует из $\Gamma$, если при любой оценке пропозициональных переменных, входящих в высказывания $\Gamma$ и $\alpha$, на которых все высказывания из $\Gamma$ истинны, $\alpha$ также истинна.

* **Выполнимость.** Формула истинна при какой-нибудь оценке.

* **Невыполнимость.** Формула не истинна ни при какой оценке.

* **Опровержимость.** Формула ложна при какой-нибудь оценке.

* <details><summary> Схемы аксиом и правило вывода </summary>

  $1.\ \alpha\rightarrow\beta\rightarrow\alpha\\$
  $2.\ (\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\beta\rightarrow\gamma)\rightarrow(\alpha\rightarrow\gamma)\\$
  $3.\ \alpha\rightarrow\beta\rightarrow\alpha\&\beta\\$
  $4.\ \alpha\&\beta\rightarrow\alpha\\$
  $5.\ \alpha\&\beta\rightarrow\beta\\$
  $6.\ \alpha\rightarrow\alpha\lor\beta\\$
  $7.\ \beta\rightarrow\alpha\lor\beta\\$
  $8.\ (\alpha\rightarrow\gamma)\rightarrow(\beta\rightarrow\gamma)\rightarrow(\alpha\lor\beta\rightarrow\gamma)\\$
  $9.\ (\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha\\$
  $10.\ \neg\neg\alpha\rightarrow\alpha\\$

  $Modus\ Ponens:$ 
  $${{\alpha,\alpha\rightarrow\beta}\over{\beta}}$$

  </details>


* **Доказуемость( $\vdash\alpha$ ) .** Высказывание $\alpha$ доказуемо, если существует доказательство $\alpha_1,\alpha_2...\alpha_k$ и $\alpha_k$ совпадает с $\alpha$

  Доказательство. Доказательство в исчислении высказываний — это некоторая конечная последовательность выражений (высказываний) $\alpha_1,\alpha_2...\alpha_k$, что каждое из высказываний $\alpha_i$ либо является аксиомой, либо получается из других утверждений $\alpha_{P_1},\alpha_{P_2},...,\alpha_{P_n}\ (P_1... P_n < i)$ по правилу вывода.

* **Выводимость( $\Gamma\vdash\alpha$ ).** Высказывание $\alpha$ выводимо из списка гипотез $\Gamma$, если существует вывод $\alpha_1,\alpha_2...\alpha_k$ и $\alpha_k$ совпадает с $\alpha$.

  Вывод. Доказательство, в котором могут использоваться гипотезы. 
  Ака. Вывод в исчислении высказываний — это некоторая конечная последовательность выражений (высказываний) $\alpha_1,\alpha_2...\alpha_k$, что каждое из высказываний $\alpha_i$ либо является аксиомой, либо получается из других утверждений $\alpha_{P_1},\alpha_{P_2},...,\alpha_{P_n}\ (P_1... P_n < i)$ по правилу вывода, либо является гипотезой из списка $\Gamma$.

* **Корректность( $\vdash\alpha\ \Rightarrow\ \models\alpha$ ).** Если высказывание доказуемо, то оно общезначимо 

* **Полнота( $\models\alpha\ \Rightarrow\ \vdash\alpha$ ).** Если высказывание общезначимо, то оно доказуемо.

* **Непротиворечивость.** Теория непротиворечива если не существует формулы $\alpha$ такой, что $\vdash\alpha$ и $\vdash\neg\alpha$

* **Противоречивость.** Если теория противоречива, то в ней доказуема любая формула

* **Теорема о дедукции.** Пусть имеется $\Gamma,\alpha,\beta$. Утверждение  $\Gamma\vdash\alpha\rightarrow\beta$ тогда и только тогда, когда   $\Gamma,\alpha\vdash\beta$ 

  (если из списка высказываний $\Gamma$ выводится импликация $\alpha$ и $\beta$, то можно перестроить вывод таким образом, что из $\Gamma,\alpha$ выводимо $\beta$  и наоборот)

  <details>
  <summary>Доказательство</summary>

  **Лемма 1.** $\vdash\alpha\rightarrow\alpha$  
      
    $1.\ \alpha\rightarrow\alpha\rightarrow\alpha\ (sch.\ ax\ 1)\\$
    $2.\ (\alpha\rightarrow\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow((\alpha\rightarrow\alpha)\rightarrow\alpha))\rightarrow(\alpha\rightarrow\alpha)\ (sch.\ ax\ 2)\\$
    $3.\ (\alpha\rightarrow((\alpha\rightarrow\alpha)\rightarrow\alpha))\rightarrow(\alpha\rightarrow\alpha)\ (MP\ 1,2)\\$
    $4.\ (\alpha\rightarrow((\alpha\rightarrow\alpha)\rightarrow\alpha)) (sch.\ ax\ 1)\\$
    $5.\ \alpha\rightarrow\alpha\ (MP\ 4,3)$

   * (1 часть) $\Gamma\vdash\alpha\rightarrow\beta\Rightarrow\Gamma,\alpha\vdash\beta$. Покажем как перестроить док-во (здесь мы его просто дополним)
      
      Выведем доказательство $\Gamma\vdash\alpha\rightarrow\beta$:
      
      $(1).\ \delta_1\\$
      $...\\$
      $(m-1).\ \delta_{m-1}\\$
      $(m).\ \alpha\rightarrow\beta$ и дополним это док-во двумя утверждениями\
      $(m+1).\ \alpha$ (гипотеза, которая добавилась ($\Gamma,\alpha\vdash\beta$))\
      $(m+2).\ \beta\ (MP\ m,m+1)$

    * (2 часть) $\Gamma,\alpha\vdash\beta\Rightarrow\Gamma\vdash\alpha\rightarrow\beta$. Снова возьмем наше доказательство (только теперь оно доказывает $\beta$), также попытаемся перестроить. Наметим план что нам нужно получить и покажем, что мы можем выводить любую формулу из намеченного плана (допишем промежуточные формулы).
  
      План: (навесим на каждую строчку док-ва $\alpha$ слева)

      $(1).\ \alpha\rightarrow\delta_1\\$
      $...\\$
      $(m-1).\ \alpha\rightarrow\delta_{m-1}\\$
      $(m).\ \alpha\rightarrow\beta$ 

      Теперь этот план требуется дополнить до полноценного вывода. Будем рассматривать все формулы подряд и перед каждой формулой добавлять некоторое кол-во формул, обосновывающих соответствующие высказывания. Рассмотрим формулу $i$, возможны следующий варианты:

      1. $\delta_i$ - аксиома или предположение, входящее в $\Gamma$. Тогда перед этой формулой вставим формулы $\delta_i$ и $\delta_i\rightarrow\alpha\rightarrow\delta_i$, и окажется, что $i$-ая формула выводится из предыдущих двух путем применения $MP$.
      2. $\delta_i$ совпадает с $\alpha$. Тогда требуемое утверждение выводится при помощи леммы 1.
      3. $\delta_i$ выводится по правилу $MP$ из каких-то других утверждений $\delta_j,\delta_k$ ($\delta_k:=\delta_i\rightarrow\delta_j$), где $j<i$ и $k<i$. Покажем, что $\alpha\rightarrow\delta_i$ тоже может быть выведена из $\alpha\rightarrow\delta_j$ и $\alpha\rightarrow\delta_k$ (нам этого достаточно, т.к. мы до этого перестроили их док-во).
      
          Для этого добавим 2 высказывания:\
          $(\alpha\rightarrow\delta_j)\rightarrow(\alpha\rightarrow\delta_k)\rightarrow(\alpha\rightarrow\delta_i)\ (sch\ ax.\ 2)\\$ 
          $(\alpha\rightarrow\delta_k)\rightarrow(\alpha\rightarrow\delta_i)\ (MP\ j,...)$ 
    </details>



 ## 2.  Теорема о полноте исчисления высказываний.

* Классическое исчисление высказываний полно.

  Полнота( $\models\alpha\ \Rightarrow\ \vdash\alpha$ ). Если высказывание общезначимо, то оно доказуемо. 
  <details><summary>Вспомогательные утверждения</summary>

    * *Лемма 1.* Если $\Gamma,\Sigma\vdash\alpha$, то $\Gamma,\Sigma,\Delta\vdash\alpha$. Если $\Gamma,\Sigma,\Delta,\Phi\vdash\alpha$, то $\Gamma,\Delta,\Sigma,\Phi\vdash\alpha$.
      <details><summary>Доказательство Леммы 1</summary> 

      (1 часть) Т.к. у нас существует построенный вывод $\Gamma,\Sigma\vdash\alpha$, то при добавлении в список гипотез еще утверждений $\Delta$ вывод можно не изменять и оставить таким же, т.к. мы до этого не использовали добавленные утверждения $\Rightarrow$  $\Gamma,\Sigma,\Delta\vdash\alpha$ верно.
      (2 часть) Оттого, что мы поменяли местами некоторые гипотезы в списке гипотез, то ход вывода и сами утверждения в нем можно не менять, стоит изменить только ссылки на гипотезы (если они упоминались в самом выводе). 

      </details>

    * *Лемма 2.* Если справедливы три утверждения: $\Gamma\vdash\gamma,\ \Delta\vdash\delta,\ \gamma,\delta\vdash\alpha$, то справедливо и $\Gamma,\Delta\vdash\alpha$ 
      <details><summary>Доказательство Леммы 2</summary>

      Мы получим требуемый вывод, просто последовательно соединив все
      три исходных вывода. Первые два вывода будут (очевидно) корректными при допущениях $\Gamma$ и $\Delta$. В третьем же выводе могут использоваться высказывания $\Gamma$ и $\Delta$, отсутствующие в
      предположениях. Но поскольку эти высказывания доказаны в первых двух частях вывода, мы будем иметь полное право их упоминать — на тех же основаниях, на которых они указаны в конце соответствующих доказательств.

      </details>

    * *Лемма 3.* (Правило контрапозиции). Каковы бы ни были формулы $\alpha,\beta$, справедливо, что $\vdash(\alpha\rightarrow\beta)\rightarrow(\neg\beta\rightarrow\neg\alpha)$
      <details><summary>Доказательство Леммы 3</summary>

      Докажем $(\alpha\rightarrow\beta),\neg\beta\vdash\neg\alpha\\$
      $1.\ (\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha\ (Sch.\ Ax.\ 9)\\$
      $2.\ (\alpha\rightarrow\beta)\ (Hypothesis\ 1)\\$
      $3.\ (\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha\ (MP\ 2,1)\\$
      $4.\ \neg\beta\rightarrow\alpha\rightarrow\neg\beta\ (Sch. Ax. 1)\\$
      $5.\ \neg\beta\ (Hypothesis\ 2)\\$
      $6.\ \alpha\rightarrow\neg\beta\ (MP\ 5,4)\\$
      $7.\ \neg\alpha\ (MP\ 6,3)\\$
      И два раза применим дедукцию

      </details>

    * *Лемма 4.* Правило исключенного третьего. Какова бы ни была формула $\alpha,\ \vdash\alpha\vee\neg\alpha$
      <details><summary>Доказательство Леммы 4</summary> 

      * 1 часть. Для начала покажем $\vdash\neg(\alpha\vee\neg\alpha)\rightarrow\neg\alpha\\$
        $1.\ \alpha\rightarrow\alpha\vee\neg\alpha\ (Sch.\ Ax.\ 6)\\$
        $2.\ ... (n+1)\ \gamma_1,...,\gamma_{n-1},(\alpha\rightarrow\alpha\vee\neg\alpha)\rightarrow\neg(\alpha\vee\neg\alpha)\rightarrow\neg\alpha\ (Lemma\ 4\ proof)\\$
        $(n+2).\ \neg(\alpha\vee\neg\alpha)\rightarrow\neg\alpha\ (MP\ 1,n+1)\\$

      * 2 часть. Покажем $\vdash\neg(\alpha\vee\neg\alpha)\rightarrow\neg\neg\alpha\\$
        $1.\ \neg\alpha\rightarrow\alpha\vee\neg\alpha\ (Sch.\ Ax.\ 6)\\$
        $2.\ ... (n+1)\ \gamma_1,...,\gamma_{n-1}, (\neg\alpha\rightarrow\alpha\vee\neg\alpha)\rightarrow\neg(\alpha\vee\neg\alpha)\rightarrow\neg\neg\alpha\ (Lemma\ 4\ proof)\\$
        $(n+2).\ \neg(\alpha\vee\neg\alpha)\rightarrow\neg\neg\alpha\ (MP\ 1,n+1)\\$ 
       
      * 3 часть\
        $1.\ \neg(\alpha\vee\neg\alpha)\rightarrow\neg\alpha\ (p\ 1)\\$
        $2.\ \neg(\alpha\vee\neg\alpha)\rightarrow\neg\neg\alpha\ (p\ 2)\\$
        $3.\ (\neg(\alpha\vee\neg\alpha)\rightarrow\neg\alpha)\rightarrow(\neg(\alpha\vee\neg\alpha)\rightarrow\neg\neg\alpha)\rightarrow\neg\neg(\alpha\vee\neg\alpha)\ (Sch.\ Ax.\ 9)\\$
        $4.\ (\neg(\alpha\vee\neg\alpha)\rightarrow\neg\neg\alpha)\rightarrow\neg\neg(\alpha\vee\neg\alpha)\ (MP\ 1,3)\\$
        $5.\ \neg\neg(\alpha\vee\neg\alpha)\ (MP\ 2,5)\\$
        $6.\ \neg\neg(\alpha\vee\neg\alpha)\rightarrow(\alpha\vee\neg\alpha)\ (Sch.\ Ax.\ 10)\\$
        $7.\ (\alpha\vee\neg\alpha)\ (MP\ 5,6)\\$

      </details> 
    
    * *Лемма 5.* Каждое из построенных по таблицам истинности утверждений доказуемо.
      <details><summary>Доказательство Леммы 5</summary>
      
      Доказательство каждого из утверждений стоит провести формально.  
        Ex: $\neg\alpha,\beta\vdash\alpha\rightarrow\beta\\$
            $1.\ \beta\rightarrow\alpha\rightarrow\beta\ (Sch.\ Ax\ 1)\\$
            $2.\ \beta\ (Hypothesis\ 2)\\$
            $3.\ \alpha\rightarrow\beta\ (MP\ 1,\ 2)$

      </details>

    * *Лемма 6.*  Пусть пропозициональные переменные $X_1,X_2...X_N$ - все переменные, которые используются в формуле $\alpha$. И пусть задана некоторая оценка переменных. Тогда $X_1^{(\neg)},X_2^{(\neg)}...X_N^{(\neg)}\vdash\alpha^{(\neg)}$.

      <details><summary>Доказательство Леммы 6</summary>
      
      База: формула $\alpha$ - атомарная, те $\alpha=X_i$. Тогда $X_i\vdash X_i$ и $\neg X_i\vdash\neg X_i$
      
      Переход: $\alpha=\phi\star\xi$, причем $X_1^{(\neg)},X_2^{(\neg)}...X_N^{(\neg)}\vdash\phi^{(\neg)}$ и $X_1^{(\neg)},X_2^{(\neg)}...X_N^{(\neg)}\vdash\xi^{(\neg)}$. Тогда построим вывод:

      $(1)...(n)\ \phi^{(\neg)}$ индукционное предположение\
      $(n+1)...(k)\ \xi^{(\neg)}$ индукционное предположение\
      $(k+1)...(l)\ (\phi\star\xi)^{(\neg)}$ лемма 5
      </details>

    * *Лемма 7.* Исключение допущения. Пусть справедливо $\Gamma,\rho\vdash\alpha$ и $\Gamma,\neg\rho\vdash\alpha$. Тогда также справедливо $\Gamma\vdash\alpha$.   
      
      <details><summary>Доказательство Леммы 7</summary> 

      $\Gamma\vdash\rho\rightarrow\alpha$ Дедукция.\
      $\Gamma\vdash\neg\rho\rightarrow\alpha$ Дедукция.\
      $1.\ \rho\rightarrow\alpha\\$
      $2.\ \neg\rho\rightarrow\alpha\\$
      $3.\ \rho\vee\neg\rho\ (Lemma 4)\\$
      $4.\ (\rho\rightarrow\alpha)\rightarrow(\neg\rho\rightarrow\alpha)\rightarrow\rho\vee\neg\rho\rightarrow\alpha\ (Sch.\ Ax.\ 8)\\$
      3 MP
      $7.\ \alpha\\$

      </details>

    * *Лемма 8.* Пусть при всех оценках переменных $X_1^{(\neg)},X_2^{(\neg)}...X_N^{(\neg)}\vdash\alpha$, тогда $\vdash\alpha$   
      
      <details><summary>Доказательство Леммы 8</summary> 
      
      Индукция по количеству переменных n.
      
      База: $n=0$. Тогда $\vdash\alpha$ есть из условия.

      Переход: пусть $X_1^{(\neg)},X_2^{(\neg)}...X_N^{(\neg)}\vdash\alpha$. Рассмотрим $2^{n-1}$ пар выводов:

      $${{X_1^{(\neg)},X_2^{(\neg)}...\neg X_N\vdash\alpha,X_1^{(\neg)},X_2^{(\neg)}...X_N\vdash\alpha}\over{X_1^{(\neg)},X_2^{(\neg)}...X_{N-1}^{(\neg)}\vdash\alpha}}$$
      
      Завершая доказательство теоремы, заметим, что раз $\models\alpha$, то $X_1^{(\neg)},X_2^{(\neg)}...X_N^{(\neg)}\vdash\alpha$ при всех оценках переменных, и, следовательно, $\vdash\alpha$

      </details>

  </details>

  <details><summary>Доказательство полноты КИВ</summary>
    
    1. Построим таблицы истинности для каждой связки $(\star)$ и докажем в них каждую строку: (Лемма 5)
      
      $\phi^{(\neg)},\xi^{(\neg)}\vdash(\phi\star\xi)^{(\neg)}$ 
    
    2. Построим таблицу истинности для $\alpha$ и докажем в ней каждую строку: (Лемма 6)
    
      $X_1^{(\neg)},X_2^{(\neg)}...X_N^{(\neg)}\vdash\alpha^{(\neg)}$

    3. Если формула общезначима, то в ней все строки будут иметь вид $\Gamma\vdash\alpha$, потому от гипотез мы можем избавиться и получить требуемое $\vdash\alpha$. (Лемма 8)


  </details>

* Классическое исчисление высказываний корректно.
  <details><summary>Доказательство корректности КИВ</summary>
  
  Индукция по длине вывода $n$. Для каждого высказывания $\delta_n$ из вывода разбор случаев:

    1. Аксиома - убедиться, что все аксиомы общезначимы.

    Давайте рассмотрим одну из схем аксиом, общезначимость остальных схем аксиом нетрудно проввести. Общезначимость схемы аксиом 9:
    
    | [a] | [b] | [!a]  | [a->b] | [a->!b]  | [(a->!b)->!a] | [(a->b)->(a->!b)->!a] |
    | --- | --- | - | - | - | - | - |
    | Л   | Л   | И | И | И | И | И |
    | Л   | И   | И | И | И | И | И | 
    | И   | Л   | Л | Л | И | Л | И |
    | И   | И   | Л | И | Л | И | И |


    2. $Modus\ Ponens\ j,k$ - убедиться, что если $\models\delta_j$ и $\models\delta_k$ (ака $\models\delta_j\rightarrow\delta_n$), то $\models\delta_n$  

    Пусть в выводе есть формулы $\delta_j,\delta_k:=\delta_j\rightarrow\delta_n,\delta_n\ (j<k<n)$ 

    Фиксируем какую-нибудь оценку. По индукционному предположению, $\delta_j,\delta_k:=\delta_j\rightarrow\delta_n$ - общезначимы. Поэтому при данной оценке $[\delta_j]=И,[\delta_j\rightarrow\delta_n]=И$. Построим таблицу истинности для импликации.

    | [d_j] | [d_n] | [d_j->d_n] |
    | ----- | ----- | ---------- |
    | Л | Л | И |
    | Л | И | И |
    | И | Л | Л |
    | И | И | И |

    По таблице видно, что если оба значения $[\delta_j],[\delta_k]$ истинны, то и $[\delta_n]$=И
   
  </details>

 ## 3.  Интуиционистское исчисление высказываний. BHK-интерпретация. Решётки. Булевы и псевдобулевы алгебры. Теорема Гливенко.
 * **Интуиционистское исчисление высказываний.** Чтобы получить **ИИВ** (Интуиционистское исчисление высказываний) нужно в **КИВ** (Классическое исчисление высказываний) заменить 10-ю аксиому ($\neg\neg\alpha\rightarrow\alpha$) на $\alpha\rightarrow\neg\alpha\rightarrow\beta$
   
    * В интуиционистском исчислении высказываний невозможно доказать правило исключенного третьего: $\alpha\vee\neg\alpha$
    * Существует множество способов построить модель для интуиционистской логики: Модели Крипке, Топологическая интерпретация...
    * <details> <summary>Топологическая интерпретация.</summary>  
    
      Начнем с множества истинностных значений. Возьмем в качестве этого множества все открытые множества некоторого заранее выбранного топологического пространства. Определим оценку для связок интуиционистского исчисления высказываний следующим образом: 
        * $[A\& B]= [A]\cap[B]$
        * $[A\vee B]= [A]\cup[B]$
        * $[A\rightarrow B]= (c[A]\cup[B])^{\circ}$
        * $[\neg A] = (c[A])^{\circ}$
      
        Будем считать, что формула истинна в данной модели, если её значение оказалось равно всему пространству.
          * Example: возьмем пространство $R$, и вычислим значение формулы $A\vee\neg A$ при $A$ равном (0,1): $[A\vee\neg A] = (0,1)\cup [\neg A] = (0,1)\cup(c(0,1))^{\circ} = (0,1)\cup((-\infty,0)\cup(1,\infty)) = (-\infty,0)\cup(0,1)\cup(1,\infty)$
      </details>

* **BHK-интерпретация (Brouwer-Heyting-Kolmogorov interpretation).** Пусть заданы высказывания $\alpha,\beta$, тогда:

  * мы считаем $\alpha\&\beta$ доказанным, если у нас есть доказательство $\alpha$ и есть доказательство $\beta$  
  * мы считаем $\alpha\lor\beta$ доказанным, если у нас есть доказательство $\alpha$ или доказательство $\beta$, и мы точно знаем какое
  * мы считаем $\alpha\rightarrow\beta$ доказанным, если из доказательства $\alpha$ мы можем построить доказательство $\beta$
  * мы считаем $\bot$ (aka 0) утверждением не имеющим доказательства
  * $\neg\alpha$ есть сокращение $\alpha\rightarrow\bot$. Мы считаем $\neg\alpha$ доказанным, если мы умеем из доказательства $\alpha$ получить противоречие

*  **Решётка.** Частично-упорядоченное(рефлексивно, транзитивно, антисимметрично) множество $\langle M,\sqsubseteq\rangle$, в котором, для любых $a,b$ определены две операции:

  * верхняя грань $a,b$: $a+b = c,$ наименьший $c$, что $a\sqsubseteq c,b\sqsubseteq c$  
  * нижняя грань $a,b$: $a \ast b = c$, наибольший $c$, что  $c\sqsubseteq a,c\sqsubseteq b$ 
  * example: $a+b=x,a\ast b = y$
    
    ```mermaid
    graph TD;
      x --> a
      x --> b
      a-->y
      b-->y
    ```
  * наименьший и минимальный:\
    $z$-наименьший в M, если для всех $t\in M:\ z\sqsubseteq t$\
    $z$-минимальный в M, если нет такого $t\in M:\ t\sqsubseteq z$  
    example: $z,z':$ никакой не наименьший, но оба минимальные
    
    ```mermaid
    graph TD;
    	q -->a
    	q -->b
    	a-->z
    	b-->z
      a-->z'
      b-->z'
    ```
  
* **Дистрибутивная решетка.** Для любых $a,b,c$: $(a+b)\ast c=a\ast c+b\ast c$

  * Решетка дистрибутивна т. и т. т., когда при любых $a,b,c$ : $a\ast b+c = (a+c)\ast(b+c)$
  
* **Импликативная решётка.** Решетка с псевдодополнением, определённым для любых двух элементов этой решетки

  * Операция псевдодополнения. $c=a\rightarrow b$, $c$ - это такой наибольший $t$, что $t\ast a\sqsubseteq b$

  * В импликативной решетке всегда есть наибольший элемент

    <details><summary>Доказательство</summary>

    Рассмотрим $a\rightarrow a$ для какого-то фиксированного $a$. $a\rightarrow a=$ наибольший $\{t|t\ast a\sqsubseteq a\}$. Тк операция нижней грани может только уменьшить результат, а нам нужен такой максимальный $t$, то он должен найтись, если его нет в решетке, то она бесконечна вверх и операцию псевдодополнения можно считать неопределенной.
    </details> 

  * Наибольший элемент единственнен

    <details><summary>Доказательство</summary>
    Давайте сравним два элемента $1,1'$, тк для всех элементов должна быть определена большая грань, то один из них больше. Если $1\sqsubseteq1'\ и\ 1'\sqsubseteq1$, то они равны между собой по антисимметричности рёшетки.

    </details>

  * **Теорема** Если решётка импликативна, то она дистрибутивна.

* **Псевдобулева алгебра (алгебра Гейтинга).** Импликативная решетка с 0

  * 0 - наименьший элемент решетки
  
  <details><summary>Корректность псевдобулевой алгебры для ИИВ</summary>
  TODO()
  </details>

* **Булева алгебра.** Псевдобулева алгебра, в которой для любых $a$: $a + (a\rightarrow 0) = 1$. \
  Булева алгебра - пример классической логики:
  а + (а -> 0) = 1 - Закон исключенного третьего, который читается как "Либо  альфа, либо не альфа выполнено"

  <details><summary>Неполнота классической модели для ИИВ</summary>
  TODO()
  </details>

* **Теорема Гливенко.** $\vdash_{КИВ}\alpha$, то $\vdash_{ИИВ}\neg\neg\alpha$.Если формула $\alpha$ выводима в классическом исчислении высказываний, то $\neg\neg\alpha$ выводима в интуиционистком исчислении высказываний.

  <details><summary> Доказательство </summary>

  1. Требуется показать для всех утверждений, что есть в обоих исчислениях: $\vdash_{КИВ}\alpha$, то $\vdash_{ИИВ}\alpha$. (Это будет работать для гипотез и аксиом)
      
    $1.\ \alpha\ (Hypothesis)\\$
    $2.\ \alpha\rightarrow\alpha\rightarrow\alpha\ (Sch.\ Ax.\ 1)\\$
    $3.\ \alpha\rightarrow\alpha\ (MP\ 1,2)\\$
    $4.\ \alpha\rightarrow\neg\alpha\rightarrow\alpha\ (Sch.\ Ax.\ 1)\\$
    $5.\ \neg\alpha\rightarrow\alpha\ (MP\ 1,4)\\$
    $6.\ (\alpha\rightarrow\alpha)\rightarrow(\neg\alpha\rightarrow\neg\alpha)\ (Contraposition)\\$
    $7.\ (\neg\alpha\rightarrow\neg\alpha)\ (MP\ 3,6)\\$
    $8.\ (\neg\alpha\rightarrow\alpha)\rightarrow(\neg\alpha\rightarrow\neg\alpha)\rightarrow\neg\neg\alpha\ (Sch.\ Ax.\ 9)\\$
    $9.\ (\neg\alpha\rightarrow\neg\alpha)\rightarrow\neg\neg\alpha\ (MP\ 5,8)\\$
    $10.\ \neg\neg\alpha\ (MP\ 7,9)\\$

  2. Двойное отрицание 10 аксиомы из КИВ $\vdash\neg\neg(\neg\neg\alpha\rightarrow\alpha)$
  
    $1.\ \alpha\rightarrow\neg\neg\alpha\rightarrow\alpha\ (Sch.\ Ax.\ 1)\\$
    $2.\ \neg\alpha\rightarrow\neg\neg\alpha\rightarrow\alpha\ (Sch.\ Ax.\ 10\ (int))\\$
    $3.\ (\alpha\rightarrow\neg\neg\alpha\rightarrow\alpha)\rightarrow(\neg(\neg\neg\alpha\rightarrow\alpha)\rightarrow\neg\alpha)\ (Contraposition)\\$
    $4.\ (\neg\alpha\rightarrow\neg\neg\alpha\rightarrow\alpha)\rightarrow(\neg(\neg\neg\alpha\rightarrow\alpha)\rightarrow\neg\neg\alpha)\ (Contrapositions)\\$
    $5.\ (\neg(\neg\neg\alpha\rightarrow\alpha)\rightarrow\neg\alpha)\ (MP\ 1,3)\\$
    $6.\ (\neg(\neg\neg\alpha\rightarrow\alpha)\rightarrow\neg\neg\alpha)\ (MP\ 2,4)\\$
    $7.\ (\neg(\neg\neg\alpha\rightarrow\alpha)\rightarrow\neg\alpha)\rightarrow(\neg(\neg\neg\alpha\rightarrow\alpha)\rightarrow\neg\neg\alpha)\rightarrow\neg\neg(\neg\neg\alpha\rightarrow\alpha)\ (Sch.\ Ax.\ 9)\\$
    $8.\ (\neg(\neg\neg\alpha\rightarrow\alpha)\rightarrow\neg\neg\alpha)\rightarrow\neg\neg(\neg\neg\alpha\rightarrow\alpha)\ (MP\ 5,7)\\$
    $9.\ \neg\neg(\neg\neg\alpha\rightarrow\alpha)\ (MP\ 6,8)$

  3. Также нужно перестроить $M.P.$: 
    
    $${{\alpha,\alpha\rightarrow\beta}\over{\beta}}\Rightarrow{{\neg\neg\alpha,\neg\neg(\alpha\rightarrow\beta)}\over{\neg\neg\beta}}$$

    $1.\ \alpha,\alpha\rightarrow\beta\vdash\beta\ (Def\ MP)\\$
    $2.\ \alpha\rightarrow\beta\vdash\alpha\rightarrow\beta\ (Deduction\ \Rightarrow)\\$
    $3.\ \alpha\rightarrow\beta\vdash\neg\beta\rightarrow\neg\alpha\ (Constraposition)\\$
    $4.\ \neg\beta,\alpha\rightarrow\beta\vdash\neg\alpha\ (Deduction\ \Leftarrow)\\$
    $5.\ \neg\beta\vdash(\alpha\rightarrow\beta)\rightarrow\alpha\ (Deduction\ \Rightarrow)\\$
    $6.\ \neg\beta\vdash\neg\neg\alpha\rightarrow\neg(\alpha\rightarrow\beta)\ (Constraposition)\\$
    $7.\ \neg\neg\alpha,\neg\beta\vdash\neg(\alpha\rightarrow\beta)\ (Deduction\ \Leftarrow)\\$
    $8.\ \neg\neg\alpha\vdash\neg\beta\rightarrow\neg(\alpha\rightarrow\beta)\ (Deduction\ \Rightarrow)\\$
    $9.\ \neg\neg\alpha\vdash\neg\neg(\alpha\rightarrow\beta)\rightarrow\neg\neg\beta\ (Contraposition)\\$
    $10.\ \neg\neg\alpha,\neg\neg(\alpha\rightarrow\beta)\vdash\neg\neg\beta\ (Deduction\ \Leftarrow)\\$
  </details>

 ## 4.  Алгебра Линденбаума. Полнота интуиционистского исчисления высказываний в псевдобулевых алгебрах.

* **Алгебра Линденбаума.** Множество множеств (классов) факторизованных по отношению эквивалентности. 
  
  * Определение. Возьмем множество всех формул ИИВ, тогда:
  1. $\alpha\sqsubseteq\beta$, если $\alpha\vdash\beta$ 
  2. $\alpha\approx\beta$, если $\alpha\sqsubseteq\beta$ и $\beta\sqsubseteq\alpha$

* Полнота ИИВ TODO()

 ## 5.  Модели Крипке. Сведение моделей Крипке к псевдобулевым алгебрам. Нетабличность интуиционистского исчисления высказываний.

* **Вообще, очень полезно посмотреть видосики на степике**

* **Определение**

  1. Пусть $\mathrm{W}$ - множество миров.  (миры - это какие-то множества;

  2. $(\preceq)\subseteq W \times W$ -  отношение частичного порядка на W; 

  3. $(\Vdash)\subseteq W \times P$ - отношение вынужденности, причём если $W_x \preceq W_y$ и $W_x \Vdash X$, то $W_y \Vdash X$ , где $X$ - переменная. (*Мы требуем, чтобы если некоторый мир наследует нашему, то все переменные, которые вынуждены в нашем мире в нем тоже были бы вынуждены*)

     Тогда $<W,(\preceq),(\Vdash)>$ - **модель Крипке**

     Как оценить высказывание в модели Крипке?

*  **Определение**

  1. $W_k \Vdash P$ - задано в модели.

  2. $W_k \Vdash \phi \& \psi$ - если $W_k \Vdash \phi$ и $W_k \Vdash \psi$

  3. $W_k \Vdash \phi \vee \psi$ - если $W_k \Vdash \phi$ или $W_k \Vdash \psi$

  4. $W_k \Vdash \phi \rightarrow \psi$ - если в любом $W_i:W_k\preceq W_i$ из $W_i \Vdash \phi$ следует $W_i \Vdash \psi$

  5. $W_k \Vdash \neg \phi$ - если в любом $W_i:W_k\preceq W_i$ выполнено $W_i \nVdash \phi$

  6. $W_k \nVdash \perp$

* **Определение**

  * $\Vdash \phi$ в модели $W$ (иначе: $W\vDash\phi$), если $W_i \Vdash \phi$ при всех $W_i \in W$ (*Будем говорить, что формула $\phi$ **истинна** в данной модели, если она вынуждена в каждом мире этой модели*)
  * $\vDash \phi$, если $\Vdash\phi$ во всех моделях $W$ (*Будем говорить, что формула $\phi$ **общезначима**, если она вынуждена во всех моделях*)

* **Примеры.**
  
  * $Q\rightarrow P$
   
  ```mermaid
  graph TD;
    W0 --P--> W1
    W1 --Q--> W2
  ```
  1. $W_2\Vdash P$ и $W_2\Vdash Q$ - значит, $W_2\Vdash P\rightarrow Q$
  2. $W_1\nVdash Q$. Также, $W_2\Vdash P\rightarrow Q$. При всех мирах после $W_1$ вынуждена импликация $P$ и $Q$, тогда и в $W_1$ вынуждена эта импликация (тк в мире $W_1$ не вынуждена $Q$ и мы не можем требовать вынужденности $P$ в этом мире)
  3. $W_0$ аналогично $W_1$ 

  * $\neg\neg P\rightarrow P$

  ```mermaid
  graph TD;
    W0 --P--> W1
  ```
  1. $W_0\nVdash P$  $W_1\Vdash P$
  2. $W_0\nVdash\neg P$  $W_1\nVdash\neg P$
  3. $W_0\Vdash\neg\neg P$  $W_1\Vdash\neg\neg P$ (вынуждено тогда, когда не вынуждено $\neg P$)
  4. $W_0\nVdash\neg\neg P\rightarrow P$ (тк из вынуждености $\neg\neg P$ не следует вынужденность $P$)  $W_1\Vdash\neg\neg P\rightarrow P$  
  5. $\nVdash\neg\neg P\rightarrow P$ в модели, что значит $\nvDash\neg\neg P\rightarrow P$
  
  * $(A\rightarrow B)\lor(B\rightarrow c)\lor(C\rightarrow A)$

  ```mermaid
  graph TD;
    WR --A--> WA
    WR --B--> WB
    WR --C--> WC
  ```
  1. $W_A\nVdash A\rightarrow B$  $W_B\nVdash B\rightarrow C$  $W_C\nVdash C\rightarrow A$
  2. $W_R\nVdash A\rightarrow B$  $W_R\nVdash B\rightarrow C$  $W_R\nVdash C\rightarrow A$
  3. $W_R\nVdash(A\rightarrow B)\lor(B\rightarrow C)\lor(C\rightarrow A)$
  4. $\nVdash(A\rightarrow B)\lor(B\rightarrow C)\lor(C\rightarrow A)$ в модели, что значит $\nvDash(A\rightarrow B)\lor(B\rightarrow C)\lor(C\rightarrow A)$
   
* <details><summary>Вспомогательные утверждения</summary>

  * **Лемма 0.** Пусть $\langle\{W_0\},(\preceq),(\Vdash)\rangle$ - модель Крипке с одноэлементным множеством миров. Пусть $\phi$ - формула. Пусть $T_1,...,T_n$ - все переменные из $\phi$, что $W_0\Vdash T_i$, и $F_1,...,F_k$ - переменные из $\phi$, что $W_0\nVdash F_i$. Тогда $W_0\Vdash\phi$ тогда и только тогда, когда $[\phi]^{T_i:=И,F_j:=Л}=И$ (как формула классического исчисления высказывания)
  
  Доказательство. Индукция по структуре формулы, проверка значений.

  * **Лемма 1.** Схемы аксиом истинны в моделя Крипке.
   
    <details><summary>Доказательство</summary>
    Рассмотрим схему аксиом 9. $9.\ (\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$

    Фиксируем $\langle W,(\preceq),(\Vdash)\rangle$ и формулы $\alpha,\beta$. Индукцией по структуре покажем, что $W\Vdash(\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$

    1. База: $W$-лист. По лемме 0 в моделях Крипке с одним миром выполнено.
    2. Переход: $W'\Vdash(\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$ при всех $W\prec W'$. Тогда $W\Vdash(\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$

    Предположим $W\Vdash\alpha\rightarrow\beta$, покажем $W\Vdash(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$.
      
      1. Либо $W\Vdash\alpha$: рассмотрим $W\preceq W'$. $W'\Vdash\beta$; тогда $W'\nVdash\neg\beta$; тогда $W'\nVdash\alpha\neg\beta$; то есть $W\Vdash(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$ (тк левая часть импликации нигде в последующих мирах не вынуждена)
      2. Либо $W\nVdash\alpha$ и $W\Vdash\neg\alpha$; тогда $W'\Vdash\phi\rightarrow\neg\alpha$ (если $\phi$ не вынуждена в $W'$, то формула вынуждена сама по себе, а если $\phi$ не вынуждена, то формула также вынуждена (определение импликации))
      3. $W\nVdash\alpha$ и $W\preceq W':\ W'\Vdash\alpha$. Тогда: $W'\Vdash\alpha\rightarrow\beta$ и оттого $W'\nVdash\alpha\rightarrow\neg\beta$; тогда $W\nVdash\alpha\rightarrow\neg\beta$;

      Покажем, что при $W\preceq W_1$ из $W_1\Vdash\alpha\rightarrow\neg\beta$ следует $W_1\Vdash\neg\alpha$:
        
        * $W\prec W_1$: тк $W_1\Vdash(\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$ и $W_1\Vdash\alpha\rightarrow\beta$, то $W_1\Vdash\neg\alpha$
        * $W=W_1$: $W\nVdash\alpha\rightarrow\neg\beta$ даёт требуемое.

    </details>

  </details>

* **Теорема о корректности моделей Крипке.** Если $\vdash_{ИИВ}\phi$, то $\vDash$ в моделях Крипке.

  <details><summary>Доказательство</summary>

  Пусть $\vdash\phi$. Существуют $\delta_1,...,\delta_n$, причем $\delta_n=\phi$. Покажем, что $\vDash\delta_k$ при любом $k\in(1..n)$
  
  Индукция по длине n.

  База: $n=0$. Если в доказательстве нет ни одной формулы, то все формулы в доказательстве общезначимы.

  Переход: $\delta_1...\delta_{n-1}$ - вывод, и $\vDash\delta_1...\vDash\delta_{n-1}$. Покажем, что если $\delta_1...\delta_{n}$ - вывод, то и $\vDash\delta_n$. Разбор случаев:
    
    1. $\delta_n$ - аксиома (лемма 1);
    2. $\delta_n$ - $Modus\ Ponens$ из $\delta_k,\ \delta_p=\delta_k\rightarrow\delta_n$. Фиксируем модель Крипке $\langle\Psi,(\preceq),(\Vdash)\rangle$, выберем $W\in\Psi$. По индукционному предположению, $W\Vdash\delta_k,\ W\Vdash\delta_k\rightarrow\delta_n$. Тогда, по определению импликации, $W\Vdash\delta_n$. 
  </details>

  Если мы нашли хотя бы один пример, на котором некоторая формула не истинна, то нет возможности ее доказать.

* **Полнота моделей Крипке.** Если $\vDash\phi$ в любой модели Крипке, то $\vdash_{ИИВ}\phi$

* **Теорема**

  * Модель Крипке это **алгебра Гейтинга**

* **Табличная модель.** Будем говорить, что модель исчисления - табличная, если:
    1. Задано множество истинностных значений $V$.
    2. Для каждой связки задана функция оценки: $f_{\star}:V\ast V\rightarrow V$ и $f_{\neg}:V\rightarrow V$
    3. Среди $V$ выделены некоторые истинные значения $\top$. Мы считаем, что $\models\alpha$, если $[\alpha]\in\top$ при любых оценках пропозициональных переменных.
    4. Модель корректна
    * классическая оценка для исчисления высказываний - табличная модель

* **Модель Крипке как табличная модель.**

  1. Рассмотри все модели Крипке и объединим их всех в один "лес" (несвязный набор деревьев). Пусть $V$ - множество всех подмножеств миров. Оценка переменной $P$ - множество (перечень) всех миров, в которых она вынуждена.
  2. Оценка связки $\alpha\star\beta$: все миры, в которых $\Vdash\alpha\star\beta$
  3. Истинное значение - множество всех миров (только формула, истинная во всех мирах, общезначима).
  4. Модель корректна (мы это доказали)

* **Теорема** В интуиционистской логике нет полной табличной модели.
  
  <details><summary>Доказательство</summary>
      
    Рассмотрим $\alpha_n=\vee_{1\leq i\leq j\leq n}((P_i\rightarrow P_j)(P_j\rightarrow P_i))$

    Тогда покажем, что: 
    
    1. Если $|V|=n$, то $[\alpha_{n+1}]\in T$ (лемма 1)
    2. Найдется такая модель Крипке $\langle W,(\preceq),(\Vdash)\rangle$, что $\nVdash\alpha_{n+1}$ (лемма 2)

    * **Лемма 1.** Если $|V|=n$, то $[\alpha_{n+1}]\in T$

    1. По принципу Дирихле найдутся такие $p$ и $q$, что $[P_p]=[P_q]$ 
    2. $\vdash (P\rightarrow P)\rightarrow(P\rightarrow P)$
    3. По корректности $[(P\rightarrow P)\rightarrow(P\rightarrow P)]\in T$
    4. Тк $[P_p]=[P_q]$, то $[(P_p\rightarrow P_q)\rightarrow(P_q\rightarrow P_p)]\in T$
    5. Аналогично, если $[X]\in T$, то $[X\vee Y]\in T$ и $[Y\vee X]\in T$ 

    * **Лемма 2.** Найдется модель Крипке, что $\nVdash\alpha_{n+1}$

      $W_R\rightarrow_{P_1}  W_1\\$
      $W_R\rightarrow_{P_2} W_2\\$
      $W_R\rightarrow_{P_N} W_N\\$
      $W_R\rightarrow_{P_{N+1}} W_{N+1}\\$
    
  </details>

 ## 6.  Гёделева алгебра. Операция $\Gamma(A)$. Дизъюнктивность интуиционистского исчисления высказываний.

* **Гёделева алгебра** Алгебра $А$ - гёделева, если для любых $a,b\in A$ если $a+b=1$, то $a=1$ и $b=1$.

* **Гёделизация ($\Gamma(A)$)** Добавление элемента, который больше всех
  ```mermaid
  graph TD;
    1 --> 0
    1 --> 0
    1ГА --> w
    w --> n[0]
    w --> n[0]
  ``` 
  Алгебра с добавлением $\omega$ и $1_{\Gamma (A)}$. Причем если $a\in A$, то $\omega\geqslant a, 1_\Gamma(A)\geqslant a$ и $1_\Gamma(A)>\omega$
* Утв. если A - алгебра Гейтинга, то ${\Gamma (A)}$ - алгебра Гейтинга
* Дизъюнктивность ИИВ. Если $\vdash\alpha\lor\beta$, то $\vdash\alpha$ или $\vdash\beta$
  
  <details><summary>Доказательство</summary>
  * **Гомоморфизм** - TODO()
  TODO()
  </details>

 ## 7. Исчисление предикатов. Общезначимость, следование, выводимость. Теорема о дедукции в исчислении предикатов.

* **Определение**
  * ***Терм*** исчисления предикатов (или *предметное выражение*) это:
    * *Предметная переменная* - маленькая буква начала или конца лат. алфавита, (возможно с индексами или апострофом)
    * Применение функции: если $(\theta_1,...\theta_n)$ - термы и $f$ - *функциональный символ* (некая функция), то $f(\theta_1,...\theta_n)$ тоже терм.  (Например константы - нульместные функции)

* **Определение**

  * **Формула** исчисления предикатов - это:
    * Если $\alpha$ и $\beta$ - формулы исчисления предикатов, то $\neg\alpha, \alpha \&\beta, \alpha \vee \beta, \alpha \rightarrow \beta$ - также формула
    * Если $\alpha$ - формула, и $x$ - предметная переменная, то $\forall x.\alpha$  и $\exists x. \alpha$ - также формулы
    * Применение предиката: если $(\theta_1,...\theta_n)$ - термы, и $P$ - предикатный символ, то $P(\theta_1,...\theta_n)$ - формула.

* **Определение**

  * Дана некоторая формула $s$. Будем говорить, что подстрока $s_1$ строки $s$ является подформулой если она в точности соответствует какому-то одному нетерминалу в дереве разбора строки $s$.

* **Определение**

  * Если в формулу входит подформула, полученная по правилам для кванторов $(\forall x.\alpha  , \exists x. \alpha)$, то мы будем говорить, что формула $\alpha$ находится в области действия данного квантора по переменной $x$. Также будем говорить, что любая подформула формулы $\alpha$ находится в области действия данного квантора.

* **Определение**

  * Если некоторое вхождение переменной $x$ находится в области действия квантора по переменной $x$, то такое вхождение мы назовем **связанным**. Вхождение $x$ непосредственно рядом с квантором назовём **связывающим**. Те вхождения переменных, которые не являются связанными или связывающими назовём **свободными**. Формула не имеющая свободных вхождений переменных называется **замкнутой**.

* **Определение**

  * Будем говорить, что терм $\theta$ **свободен для подстановки** в формулу $\psi$ вместо $x$, если после подстановки вместо свободных вхождений $x$ ни одно вхождение свободной переменной в $\theta$ не станет связанным.

* В исчислении предикатов к схемам аксиом из исчисления высказываний добавляется две схемы аксиом:

  Пусть $\theta$ свободно для подстановки вместо $x$ в $\psi$

  1.   $\forall x.(\psi) \rightarrow (\psi[x:=\theta])$
  2.   $\psi[x:=\theta]\rightarrow \exists x. \psi$

  * Контр-примеры для схем аксиом (когда нарушается свобода для подстановки $\theta$ в $\psi$)
    1. $\forall x.(\psi)\rightarrow(\psi[x:=\theta])\\$
       $\psi:=\exist a.\neg(a=b);\ x:=b;\ \theta=a\\$
       $\forall b.\exist a.(\neg(a=b))\rightarrow\exist a.(\neg(a=a))$

    2. TODO()


* Правила вывода:

  Пусть $x$ не входит свободно в $\phi$, тогда имеют место следующие правила вывода:

  $${{\phi\rightarrow\psi}\over{\phi\rightarrow \forall x.\psi}}$$ 
  $${{\psi\rightarrow\phi}\over{(\exists x. \psi)\rightarrow \phi}}$$

  * Контр-примеры для правила вывода (если $x$ входит свободно в $\phi$)
    1. $x=0\rightarrow x=0\\$
       $x=0\rightarrow\forall x.(x=0)$

    2. $\neg(x=x)\rightarrow\neg(x=x)\\$
       $\exist.x (\neg(x=x))\rightarrow\neg(x=x)$ TODO()


* **Определения**

  * Формула в исчислении предикатов **общезначима**, если она истинна на любом предметном множестве $D$, при любой оценке предикатных и функциональных символов, и при любых оценках свободных предметных переменных.
  * Пусть имеется некоторое исчисление предикатов с множеством аксиом $A$, и пусть дан некоторый список $\Gamma$ формул исчисления предикатов. Тогда **вывод** формулы $\alpha$ в исчислении с аксиомами $A \cup\Gamma$ мы назовем выводом из допущений $\Gamma$ и будем записывать как $\Gamma\vdash\alpha$ 
  * Пусть имеется какое-то предметное множество $D$, список формул $\Gamma$ и высказывание $\alpha$, тогда **следованием** из $\Gamma$ в $\alpha$ назовем следующее утверждение: если при всех оценках (предикатных, функциональных и т.д.) в предметном множестве $D$, где формулы $\Gamma$ истинны, истинна и $\alpha$. (мб можно понятнее написать TODO)

* **Теорема о дедукции**

  Если $\Gamma, \alpha\vdash\beta$, и в доказательстве отсутствуют применения правил для кванторов, использующих свободные переменные из формулы $\alpha$, то $\Gamma\vdash\alpha\rightarrow\beta$. Обратно, если $\Gamma\vdash\alpha\rightarrow\beta$, то $\Gamma, \alpha\vdash\beta$

  <details><summary>Доказательство</summary>
  TODO()
  </details>

* *Исчисление предикатов* **корректно**, т.е. любое доказуемое утверждение общезначимо
  
  <details><summary>Доказательство</summary>
  TODO()
  </details>

 ## 8.  Непротиворечивые множества формул. Доказательство существования моделей у непротиворечивых множеств формул в бескванторном исчислении предикатов.

* **Непротиворечивое множество формул.** Назовем $\Gamma$ - множество замкнутых формул - непротиворечивым, если ни для какой формулы $\alpha$ невозможно показать, что $\Gamma\vdash\alpha$ и $\Gamma\vdash\neg\alpha$

    * *Альтернативное определение.* $\Gamma$ - непротиворечивое множество формул, если $\Gamma\nvdash\alpha\&\neg\alpha$ при некотором $\alpha$ 

* **Пример замкнутых и бескванторных.**

  * Бескванторная = не содержащая кванторов.\
    Замкнутая = не содержащая свободных переменных.

    Возможны все 4 варианта:\
    ЗБ: $0=1\\$
    З: $\forall x.x=1\\$
    Б: $x=1\\$
    : $\forall x.x=y\\$

* **Def.** Полным непротиворечивым множеством замкнутых (замкнутых и бескванторных)  формул назовем такое множество $\Gamma$, что для любой замкнутой (замкнутой и бескванторной) формулы $\alpha$ либо $\alpha\in\Gamma$, либо $(\neg\alpha)\in\Gamma$

<details><summary>Некоторые теоремы.</summary>

  * **Теорема.** Пусть $\Gamma$ - непротиворечивое множество замкнутых (замкнутых и бескванторных) формул. Тогда какова бы ни была замкнутая (замкнутая и бескванторная) формула $\phi$, хотя бы $\Gamma\cup\{\phi\}$ или $\Gamma\cup\{\neg\phi\}$ - непротиворечиво

    <details><summary>Доказательство</summary>
    
    Пусть это не так и найдутся такие $\Gamma,\phi,\alpha$, что

      $\Gamma,\phi\vdash\alpha\&\neg\alpha\\$
      $\Gamma,\neg\phi\vdash\alpha\&\neg\alpha\\$

      Тогда по лемме об исключении гипотезы: 
        
      $\Gamma\vdash\alpha\&\neg\alpha$
      
    </details>

  * **Теорема.** Пусть $\Gamma$ - непротиворечивое множество замкнутых (замкнутых и бескванторных) формул. Тогда найдется полное непротиворечивое множество замкнутых (замкнутых и бескванторных) формул $\Delta$, что $\Gamma\in\Delta$.

    <details><summary>Доказательство</summary>

    1. Занумеруем все формулы (их счетное количество): $\phi_1,\phi_2...$
    2. Построим семейство множеств $\{\Gamma_i\}:\\$
    $\Gamma_0=\Gamma\\$
    $$
      \Gamma_{i+1} =
        \left \{
          \begin{array}{ll}
            \Gamma_i\cup\{\phi_i\},\ если\ \Gamma_i\cup\{\phi_i\}\ непротиворечиво\\
            \Gamma_i\cup\{\neg\phi_i\},\ иначе
          \end{array}
        \right.
    $$

    1. Итоговое множество

    $$
      \Delta=\cup_i\Gamma_i
    $$

    1. Непротиворечивость $\Delta$ не следует из индукции - индукция гарантирует непротиворечивость только $\Gamma_i$ при натуральном i

        1. Пусть $\Delta$ противоречиво, то есть: $\Delta\vdash\alpha\&\neg\alpha$
        2. Доказательство конечной длины и использует конечное кол-во гипотез $\{\delta_1,...,\delta_n\}\subset\Delta$, то есть $\delta_1,...,\delta_n\vdash\alpha\&\neg\alpha$
        3. Пусть $\delta_i\in\Gamma_{d_i}$, тогда $\Gamma_{d_1}\cup...\cup\Gamma_{d_n}\vdash\alpha\&\neg\alpha$
        4. Но $\Gamma_{d_1}\cup...\cup\Gamma_{d_n}=\Gamma_{max(d_i)}$, которое непротиворечиво, и потому $\Gamma_{d_1}\cup...\cup\Gamma_{d_n}\nvdash\alpha\&\neg\alpha$
        5. Противоречие

    </details>
      
</details>

* **Def.** Моделью для множества формул $F$ назовем такую модель $M$, что при всяком $\phi\in F$ выполнено $[\phi]_M=И$

    * **Альтернативное обозначение.** $M\models\phi$

* **Теорема.** Любое непротиворечивое множество замкнутых бескванторных формул имеет модель.

* **Def.** Пусть $\Mu$ - полное непротиворечивое множество замкнутых формул. Тогда модель $M$ задается так:

    1. $D$ - множество всех бескванторных формул и дополнительная строка "ошибка!"
    2. $[f(\theta_1,...,\theta_n)]="f(" ++ [\theta_1] ++ "," ++...++ ","++ [\theta_n] ++")"$
    3. 
    $$
      [P(\theta_1,...,\theta_n)] =
        \left \{
          \begin{array}{ll}
            И,\ если\ "f(" ++ [\theta_1] ++ "," ++...++ ","++ [\theta_n] ++")"\in M\\
            Л,\ иначе
          \end{array}
        \right.
    $$
    4. $[x]=$"ошибка!", т.к. формулы замкнуты

* *Лемма.* Пусть $\phi$ - бескванторная формула, тогда $M\models\phi$ тогда и только тогда, когда $\phi\in\Mu$

    <details><summary> Доказательство корректности </summary>

    Индукция по длине формулы $\phi$

    1. База. $\phi$ - предикат. Требуемое очевидно по определению $M$  
    2. Переход. Пусть $\phi=\alpha\star\beta$ (или $\phi=\neg\alpha), причем $M\models\alpha(M\models\beta)$ тогда и только тогда, когда $\alpha\in\Mu(\beta\in\Mu)$.

    Тогда покажем требуемое для каждой связки в отдельности. А именно, для каждой связки покажем 2 утверждения:

    1. если $M\models\alpha\star\beta$, то  $\alpha\star\beta\in\Mu$
    2. если $M\nvDash\alpha\star\beta$, то  $\alpha\star\beta\notin\Mu$

    Разберем все случаи:

    1. $M\models\alpha\star\beta:\ [\alpha]=Л$. Тогда по предположению $\alpha\notin M$, потому по полноте множества $\Mu$ $\neg\alpha\in\Mu$. И, поскольку, в ИВ $\neg\alpha\vdash\alpha\rightarrow\beta$, то $\Mu\vdash\alpha\rightarrow\beta$. Значит, $\alpha\rightarrow\beta\in\Mu$, иначе $\neg(\alpha\rightarrow\beta)\in\Mu$, что делает $\Mu$ противоречивым.
    2. $M\models\alpha\star\beta:\ [\alpha]=И\ и\ [\beta]=И$. Рассуждая аналогично, используя $\alpha,\beta\vdash\alpha\rightarrow\beta$, приходим к $\alpha\rightarrow\beta\in\Mu$
    3. $M\nvdash\alpha\rightarrow\beta$. Тогда $[alpha]=И$, $[beta]=Л$, то есть $\alpha\in\Mu$ и (по полноте) $\neg\beta\in\Mu$. Также, $\alpha\neg\beta\vdash\neg(\alpha\rightarrow\beta)$, отсюда $\Mu\vdash\neg(\alpha\rightarrow\beta)$. Предположим, что $\alpha\rightarrow\beta\in\Mu$, то $\Mu\vdash\alpha\rightarrow\beta$ - отсюда (по непротиворечивости) $\alpha\rightarrow\beta\notin\Mu$

    </details>

* **Теорема.** Любое непротиворечивое множество замкнутых бескванторных формул имеет модель.

  <details><summary> Доказательство</summary>

    Пусть $\Mu$ - непротиворечивое множество замкнутых бескванторных формул. По теореме о пополнении существует $\Mu'$ - полное непротиворечивое множество замкнутых бескванторных, что $\Mu\in\Mu'$. Тогда по лемме, что мы доказали выше $\Mu'$ имеет модель, это модель подойдет для $\Mu$. 
  </details>

* **Теорема.** Если у множества формул $\Mu$ есть модель $M$, оно непротиворечиво.

  <details><summary>Доказательство</summary>

  Пусть противоречиво: $\Mu\vdash A\&\neg A$, в доказательстве использованы гипотезы $\delta_1,...,\delta_n$. Тогда (по т дедукции) $\vdash\delta_1\rightarrow...\delta_n\rightarrow A\&\neg A$, то есть $[\delta_1\rightarrow...\delta_n\rightarrow A\&\neg A]=И$ (корректность). Поскольку все $[\delta_i]_M=И$, то и $[A\&\neg A]=И$ (по таблице истинности импликации). Однако, $[A\&\neg A]=Л$; противоречие.
  </details>

* **Следствие.** Исчисление предикатов непротиворечиво.

  <details><summary>Доказательство</summary>

  Рассмотрим $\Mu=\varnothing$  любую классическую модель

  Доказательства опираются на непротиворечивость мета-теории. (???)
  </details>

 ## 9.  Теорема Гёделя о полноте исчисления предикатов. Доказательство полноты исчисления предикатов.

* **Определение**

  * Назовём формулу $\alpha$ **формулой с поверхностными кванторами**, если существует такой узел в дереве разбора формула, не являющийся квантором, ниже которого нет ни одного квантора, а выше - нет ничего кроме кванторов. (Например: $\forall x\exists y\forall z(P(x,y,z)\&P(z,y,x)$). (Предварённая форма)
  
* **Теорема.** Для любой формулы исчисления предикатов найдется эквивалентная ей формула с поверхностными кванторами

<details><summary>Доказательство</summary>

* Доказательство индукцией по структуре формулы. Будем пошагово переносить кванторы на уровень выше, при необходимости переименовывая переменные (Если формула имеет вид $\exists x.\alpha\&\exists x.\beta$, мы в итоге ее преобразуем к виду $\exists x_1 \exists x_2(\alpha[x:=x_1]\&\beta[x:=x_2])$) и раскрывая отрицания $\exists x\alpha$ превратится в $\forall x\neg\alpha$ 

</details>

* **Теорема.** Для любой замкнутой формулы $\psi$ найдется такая формула $\phi$ с поверхностными кванторами, что $\vdash\psi\rightarrow\alpha$ и $\vdash\phi\rightarrow\psi$
  
  <details><summary>Доказательство</summary>
  
  -Видишь доказательство?
  -Нет.
  -А оно есть.
  
  </details>

* **Построение $\Mu*$.** 
  
  1.Пусть $\Mu$ - полное непротиворечивое множество замкнутых формул с поверхностными кванторами (очевидно, счетное). Построим семейство непротиворечимых множеств замкнутых формул $\Mu_k$. \
  2. Пусть $d_j^k$ - семейство свежих констант, в $\Mu$ не встречающихся\
  3. Индуктивно построим $\Mu_k$:
     * База: $\Mu_0=\Mu$.
     * Переход: положим $\Mu_{k+1}=\Mu_k\cup S$, где $S$ - множество, которое получается перебором всех формул $\phi_i\in\Mu_k$.  
       1. $\phi_i$ - формула без квантором, пропустим;
       2. $\phi_i=\forall x.\psi$ - добавим к $S$ все формулы вида $\psi[x:=\theta]$, где $\theta$ - всевозможные замкнутые термы, использующий символы из $\Mu_k$;
       3. $\phi_i=\exist x.\psi$ -  добавим к $S$ формулу $\psi[x:=d_i^{k+1}]$, где $d_i^{k+1}$ - некоторая свежая ранее не использовавшаяся в $\Mu_k$ константа. Эта константа при оценки модели будет отображена  то значение, на котором формула $\psi$ - истинна.

* **Лемма.** Если $\Mu$ непротиворечиво, то каждое множество из $\Mu_k$ - непротиворечиво

  <details><summary> Доказательство </summary>

  Доказательство по индукции, база очевидна ($\Mu_0=\Mu$).

  * Пусть $\Mu_k$ непротиворечиво, но $\Mu_{k+1}$ - противоречиво: $\Mu_k,\Mu_{k+1}\setminus\Mu_k\vdash A\&\neg A$
  * Тогда (тк доказательство конечной длины): $\Mu_k,\gamma_1,...,\gamma_n\vdash A\&\neg A$, где $\gamma_i\in\Mu_{k+1}\setminus\Mu_{k}$
  * По теореме дедукции: $\Mu_k\vdash\gamma_1\rightarrow...\rightarrow\gamma_2\rightarrow A\&\neg A$ (\gamma_i - замкнуты)
  * Научимся выкидывать первую посылку: $\Mu_k\vdash\gamma_2\rightarrow...\rightarrow\gamma_2\rightarrow A\&\neg A$
  * По индукции придем к противоречию: $\Mu_k\vdash A\&\neg A$.

  * **Лемма об устранении посылки.** Если $\Mu_k\vdash\gamma W$, и $\gamma\in\Mu_{k+1}\setminus\Mu_k$, то $\Mu_k\vdash W$

    Доказательство. Покажем, как дополнить доказательство до $\Mu_k\vdash W$, в зависимости от происхождения $\gamma$:
      
      1. Случай $\forall x.\phi:\gamma=\phi[x:=\theta]$. Допишем в конец доказательства:
         1. $\forall x.\phi\ (Hypothesis\ from\ \Mu_k)$
         2. $(\forall x.\phi)\rightarrow(\phi[x:=\theta])\ (Sch.Ax.11)$
         3. $\gamma\ (MP\ 1,2)$
         4. $W\ (MP)$
      2. Случай $\exist x.\phi:\gamma=\phi[x:=d_i^{k+1}]$
         1. Перестроим доказательство $\Mu_k\vdash\gamma\rightarrow W$: заменим во всём доказательстве $d_i^{k+1}$ на $y$. Коллизий нет: под квантором $d_i^{k+1}$ не стоит, переменной не является
         2. Получим доказательство $\Mu_k\vdash\gamma[d_i^{k+1}:=y]\rightarrow W$ и дополним его: 
            1. $\phi[x:=y]\rgihtarrow W$
            2. $(\exist y.\phi[x:=y])\rightarrow W$ ($y$ не входит в $W$)
            3. $(\exist x.\phi)(\exist y.\phi[x:=y])$ (упражнение)
            4. ...
            5. $(\exist x.\phi)\rightarrow W$ (доказуемо как $(\alpha\rightarrow\beta),\beta\rightarrow\gamma\vdash\alpha\rightarrow\gamma$)
            6. $(\exist x.\phi)$ (hypothesis)
            7. $W$ (MP)
  </details>

*  **Определение.** $\Mu*=\cup_k\Mu_k$

*  **Теорема.** $\Mu*$ непротиворечиво 

  <details><summary>Доказательство</summary>
  
  От противного: доказательство противоречия конечной длины, гипотезы лежат в максимальном $\Mu_k$, тогда $\Mu_k$ проитворечив. Противоречие, тк $\Mu_k$ непротиворечиво.

  </details>

* **Определение.** $\Mu^Б$ - множество всех бескванторных формул из $\Mu*$

  По непротиворечивому множеству $\Mu$ можем построить $\Mu^Б$ и для него построить модель $M$. Покажем, что эта модель годится для $\Mu*$ (и для $\Mu$, тк $\Mu\subset\Mu*$).

* **Лемма.** $M$ есть модель для $\Mu*$.

  <details><summary>Доказательство</summary>
  
  Покажем, что при $\phi\in\Mu*$ выполнено $M\vDash\phi$. Покажем индукцие по количеству кванторов в $\phi$.

  * База: $\phi$ без кванторов. Тогда $\phi\in\Mu^Б$, отсюда $M\vDash\phi$ по построению $M$ (модель $M$ - это модель для $\Mu^Б$)
  * Переход: пусть утверждение выполнено для всех формул с n кванторами. Покажем, что это выполнено и для $n+1$ кванторов.
    1. Рассмотрим $\phi=\exist x.\psi$, случай квантор всеобщности -  аналогично.
    2. Раз $\exist x.\psi\in\Mu*$, то существует $k$, что $\exist x.\psi\in\Mu_k$
    3. Значит, $\psi[x:=d_i^{k+1}]\in\Mu_{k+1}$
    4. По индукционному предположению, $M\vDash\psi[x:=d_i^{k+1}]$ - в формуле $n$ кванторов.
    5. Но тогда $[\psi]^{x:=[d_j^{k+1}]}=И$
    6. Отсюда $M\vDash\exist x.\psi$ (тк и правда есть хотя бы одно значение, при котором $\psi$ истинна)
  
  </details>

* **Теорема Гёделя о полноте исчисления предикатов.**

  Пусть $\Mu$ - замкнутое непротиворечивое множество формул исчисления предикатов. Тогда существует модель для $\Mu$.

  <details><summary>Общая идея доказательства</summary>

    1. Надо справиться со слишком большим количеством вариантов. Модель задается как $\langle D,F,P,X\rangle$. 
    2. Для оценки в модели важно только какие формулы истинны. Модели $M_1$ и $M_2$ "похожи", если $[\phi]_{M_1}=[\phi]_{M_2}$ при всех $\phi$
    3. Поступим так:
      
        1. построим эталонное множество моделей $\Mu$, каждая модель соответствует списку истинных формул, но им не является;
        2. докажем полноту $\Mu$: если каждая $M\in\Mu$ предполагает $M\models\phi$, то $\vdash\phi$;
        3. заметим, что если $\models\phi$, то каждая $M\in\Mu$ предполагает $M\models\phi$

  </details>

  <details><summary>Доказательство</summary>
    
    1. Построим по $\Mu$ моожество формул с поверхностными кванторами $\Mu'$. (сохраняется противоречивость)
    2. По $\Mu'$ построим непротиворечимое множество замкнутых бескванторных формул $\Mu^Б$ ($\Mu^Б$\subseteq\Mu*, теорема о непротиворечивости $\Mu*$).
    3. Дополним его до полного, построим для него модель $M$ (теорема о существовании модели).
    4. $M$ будет моделью и для $\Mu'$ ($\Mu'\in\Mu*$, лемма о модели для $\Mu*$), и, очевидно, для $\Mu$
  
  </details>

* **Следствие.** Исчисление предикатов полно.

  Если $\vDash\alpha$, то $\vdash\alpha$

  <details><summary>Доказательство</summary>
  
  * Пусть это не так, и существует формула $\phi$, что $\vDash\phi$, но $\nvdash\phi$
  * Тогда рассмотрим $\Mu={\neg\phi}$
  * $\Mu$ непротиворечиво: если $\neg\phi\vdash A&\neg A$, то $\vdash\phi$ (упражнение) 
  * Значит, у $\Mu$ есть модель $M$, и $M\vDash\neg\phi$
  * Значит, $[\neg\phi]=И$, поэтому $[\phi]=Л$, поэтому $\nvDash\phi$. Противоречие.
  </details>

 ## 10.  Теории первого порядка, структуры и модели. Аксиоматика Пеано. Арифметические операции. Формальная арифметика.

* **Теория первого порядка.** Теорией первого порядка назовем исчисление предикатов с дополнительными ("нелогическими" или "математическими") 
  
  * предикатными и функциональными символами
   
  * аксиомами\
  сущности, взятые из исходного исчисления высказываний, назовём логическими.

* **Структура.** Структурой теории первого порядка мы назовем упорядоченную тройку $\langle D,F,P\rangle$, где $F=\langle F_0,F_1...\rangle$ - списки оценок для 0-местных, 1-местных и т.д. функций, и $P=\langle P_0,P_1...\rangle$ - списки оценок для 0-местных, 1-местных и т.д. предикатов, $D$ - предметное множество.
    <details>
    <summary>Небольшое пояснение</summary>
    Понятие структуры - развитие понятия оценки из исчисления предикатов. Но оно касается только нелогических составляющих теории; истинностные значения и оценки для связок по-прежнему определяются исчислением предикатов, лежащим в основе теории. Для получения оценки формулы нам нужно задать структуру, значения всех свободных индивидных переменных, и (естественным образом) вычислить результат
    </details>

    **Некоректная структура.** Возьмем нашу формальную арифметику, только изменим оценку предикатк $=$. Оценим его в ложь. Тк $\vdash a=a$ по лекции, то у нас есть выводимое утверждение, но не общезначимое.
  
* **Def.** Назовем структуру корректной, если любая доказуемая формула истинна в данной структуре.
* **Модель.** Модель теории - любая корректная структура

* **Аксиоматика Пеано.** Рассмотрим некоторое множество $N$. Будем говорить, что оно удовлетворяет аксиомам Пеано, если выполнено:
  * В нем существует некоторый выделенный элемент $0$ ($0\in N$)
  * Для каждого элемента определена операция $'$, результат ее также принадлежит множеству $N$ ($N\rightarrow N$)

  Кроме того, эти элементы и операция к этим элементам должны удовлетворять следующим требованиям:
  
  *  Не существует такого $x\in N$, что $x'=0$ (Нет предшественника у минимального элемента)
  * Если при $x$ и $y$ из $N$ верно, что $x'=y'$, то $x=y$. Если $x=y'$, то $x$ назовем следующим за $y$, а $y$ - предшествующим $x$ (определение операции $'$) 
  * Каково бы ни было свойство ("предикат") $P:N\rightarrow V$, если:
      * выполнено $P(0)$
      * при любом $x\in N$ из $P(x)\Rightarrow P(x')$\
      то при любом $x\in N$ выполнено $P(x)$\
  (Индукция) 


* <details><summary>Некоторые определения и теоремы в аксиоматике Пеано</summary>
  
  * Как можно построить? В стиле алгебры Линдебаума 
    1. $N$ - язык, порожденный граматикой $v::=0|u"'"$
    2. $0$ - это $"0"$, $x'$ - это $x++"'"$ 
  
  * Примеры, которые не соответствуют аксиоматике Пеано.
    1. $\Z$, где $x'=x^2$. Функция штрих не инъективна: $(-3)^2=3^2=9$ (1 св-во)
    2. Кольцо вычетов $\Z/7\Z$, где $x'=x+1$. $6'=0$ (2 св-во)
    3. $R^+\cup\{0\}$, где $x'=x+1$

       Пусть $P(x)$ - это $x\in\Z$. 
       1. $P(0), 0\in\Z$
       2. Если $P(x)$, то есть $x\in\Z$, то и $x+1\in Z$ - так что и $P(x')$ выполнено. Тогда должно быть верно для всех элементов, но это ложь, тк $P(0.5)$ - ложно
  
  * **Теорема** Ноль единственен.

    <details><summary>Доказательство</summary>
    TODO()
    </details>

  * **Определение сложения.** 

    $$
       a+b =
        \left \{
          \begin{array}{ll}
            a,\ b=0\\
            (a+c)',\ b=c'
          \end{array}
        \right. 
    $$
    
  * **Определение умножения.** 
   
    $$
       a\ast b =
        \left \{
          \begin{array}{ll}
            0,\ b=0\\
            a\ast c+a,\ b=c'
          \end{array}
        \right. 
    $$

  * **Лемма 1.** $a+0=0+a$

    <details><summary>Доказательство</summary>
    
    Пусть $P(x)$ - это $x+0=0+x$
      
      1. Покажем $P(0)$. $0+0=0+0$
      2. Покажем, что если $P(x)$, то $P(x')$. Покажем $P(x')$, то есть $x'+0=...=0+x'$
         1. $x'+0 = x'\ (a=x',b=0)$
         2. $x'=(x)'$
         3. $(x)'=(x+0)'\ (a=x,b=0)$
         4. $(x+0)'=(0+x)'\ (P(x))$
         5. $0+x'\ (a=0,b=x')$ 

    Значит $P(a), a\in\N$ выполнено.
    </details>

  * **Лемма 2.** $a+b'=a'+b$

    <details><summary>Доказательство</summary>
    $P(x)$ - это $a+x'=a'+x$

    1. $a+0'=(a+0)'=(a)'=a'=a'+0$
    2. Покажем, что $P(x')$ следует из $P(x)$
      
      * $a+x''=(a+x')'=(a'+x)'=a'+x'  
    
    </details> 
    
  * **Определение меньше или равно** Будем считать, что $a\leq b$ если либо $a=0$, либо $p\leq q$ при $p'=a$ и $q'=b$/
  * 

  </details> 
 
* **Формальная арифметика.** (формализация аксиоматики Пеано) формальная арифметика - теория первого порядка, со следующими добавленными нелогическими:
  
  * двуместными функциональными символами ($+$),($\ast$), одноместным функциональным символом ($'$), нульместным функциональным символом 0;
  
  * двуместным предикатным символом ($=$); 
  
  * восемью аксиомами:
    
    * $(A1)\ a=b\rightarrow a=c\rightarrow b=c$ (транзитивность равенства)
    * $(A2)\ a=b\rightarrow a'=b'$ (инъективность штриха)
    * $(A3)\ a'=b'\rightarrow a=b$ (инъективность штриха)
    * $(A4)\ \neg a'=0$ (у нуля нет предшественников)
    * $(A5)\ a+0=a$ (определение сложения)
    * $(A6)\ a+b'=(a+b)'$ (определение сложения)
    * $(A7)\ a\ast 0 =0$ (определение умножения)
    * $(A8)\ a\ast b'=a\ast b+a$ (определение умножения)
  
  * схемой аксиом индукции
    $\psi[x:=0]\&(\forall x.(\psi\rightarrow\psi [x:=x']))\rightarrow\psi$

  * <details><summary>Некоторые определения и теоремы Формальной Арифметики</summary>
    
    * *$x\leq y$* $x\leq y:=\exist a.x+a=y$
     
    * *$x\leq y$* $x\leq y:=\exist a.x+a=y\&\neg (a=0)$
    
    * Натуральные числа:
       
      $$
       \overline{n} =
        \left \{
          \begin{array}{ll}
            0,\ n=0\\
            \overline{n}',\ n\gt 0
          \end{array}
        \right. 
      $$

    </details>

* Еще один пример теории первого порядка.
 
  **Теория групп.** К исчислению предикатов добавим двуместный предикат $(=)$, двуместную функцию $(\ast)$, одноместную функцию $x^{-1}$, нульместную функцию $1$ и следующие аксиомы:
      
    * $(E1)\ a=b\rightarrow a=c\rightarrow b=c$
    * $(E2)\ a=b\rightarrow(a\ast c=b\ast c)$
    * $(E3)\ a=b\rightarrow(c\ast a=c\ast b)$
    * $(G1)\ a\ast(b\ast c)=(a\ast b)\ast c$
    * $(G2)\ a\ast 1=a$
    * $(G3)\ a\ast a^{-1}=1$

 ## 11. Примитивно-рекурсивные и рекурсивные функции. Функция Аккермана. Примитивная рекурсивность арифметических функций, функций вычисления простых чисел, частичного логарифма.
  
* **Примитивы:**
  
  1. Ноль. $Z: \N_0\rightarrow\N_0, Z(x)=0$
  2. Инкремент. $N: \N_0\rightarrow\N_0, N(x)=x'$
  3. Проекция. $V_i^n:\N_0^n\rightarrow\N_0, V_i^n(x_1,...,x_n)=x_i$
  4. Подстановка. Если $f:\N_0^n\rightarrow\N_0$ и $g_1,...,g_n:\N_0^m\rightarrow\N_0$, то $S\langle f,g_1,...,g_n\rangle:\N_0^m\rightarrow\N_0$, при этом: 
   
  $$
    S\langle f,g_1,...,g_n\rangle(x_1,...,x_m)=f(g_1(x_1,...,x_m),...,g_n(x_1,...,x_m)) 
  $$
  
  5. Примитивная рекурсия. Если $f: \N_0^n\rightarrow\N_0$ и $g:\N_0^{n+2}\rightarrow\N_0$, то $R\langle f,g\rangle:\N_0^{n+1}\rightarrow\N_0$, при этом
      
    $$
      R\langle f,g\rangle(x_1,...,x_n,y) =
        \left \{
          \begin{array}{ll}
            f(x_1,...,x_n), y=0\\
            g(x_1, ..., x_n,y-1,R\langle f,g\rangle(x_1,...,x_n,y)), y>0
          \end{array}
        \right.
    $$
      

  6. Минимизация. Если $f:\N_0^{n+1}\rightarrow\N_0$, то $\mu\langle f\rangle:\N_0^n\rightarrow\N_0$, при этом
    $$
      \mu\langle f\rangle(x_1,...,x_n)=такое\ минимальное\ число\ y,\ что\ f(x_1,...,x_n,y)=0.\\ Если\ такого\ y\ нет,\ то\ результат\ примитива\ не определён
    $$

* **Примитивно-рекурсивная функция.** Функция называется примитивно-рекурсивной, если возможно построить выражение только из первых пяти примитивов, такое, что оно при всех аргументах возвращает значение, равно значению требуемой функции.

* **Рекурсивная функция.** Если функция может быть выражена только из 6 примитивов, то она называется рекурсивной.
  
  * *Пример рекурсивной, кроме функции Аккермана.* proof (дальше по билетам)
  * *Пример нерекурсивной.* проблема останова. Нет такой функции, что по исходному коду функции $f$ и аргументу может определить остановится ли функция $f$ от этого аргумента. 

* **Функция Аккермана.** Рекурсивна, но не примитивно-рекурсивна
  $$
    A(m,n) = 
      \left \{
        \begin{array}{ll}
          n+1,\ если\ m=0\\
          A(m-1,1),\ если\ m>0,n=0\\
          A(m-1,A(m,n-1)),\ если\ m>0,n>0
        \end{array}
      \right.
  $$ 

  <details><summary>Доказательство</summary>
  TODO()
  </details>

* **Простые арифметические операции.** 

  * Сложение 
    
    <details><summary>Haskell code</summary>
  
    ```haskell
    plusf :: [Int] -> Int
    plusf = u 1

    plusg :: [Int] -> Int
    plusg = s n [u 3] 

    plus :: [Int] -> Int
    plus = sr (r . (,,) plusf plusg) [u 1, u 2]
    ```
    </details>

  * Умножение

    <details><summary>Haskell code</summary>
  
    ```haskell
    prodf :: [Int] -> Int
    prodf = s z [u 1]

    prodg :: [Int] -> Int
    prodg = s plus [u 1, u 3]

    prod :: [Int] -> Int
    prod = sr (r . (,,) z prodg) [u 1, u 2]
    ```
    </details>

  * Вычитание

    <details><summary>Haskell code</summary>
  
    ```haskell
    sub1g :: [Int] -> Int
    sub1g = u 2

    sub1' :: [Int] -> Int
    sub1' = sr (r . (,,) z sub1g) [u 1, u 2]

    sub1 :: [Int] -> Int
    sub1 = s sub1' [u 1, u 1]

    subf :: [Int] -> Int
    subf = u 1

    subg :: [Int] -> Int
    subg = s sub1 [u 3]

    sub :: [Int] -> Int
    sub = sr (r . (,,) subf subg) [u 1, u 2]
    ```
    </details>

   * [Остальные арифметические операции](https://github.com/DubKoldun/mathlog_labs_2018/tree/master/PrRecFunctions/haskell)
    
* **Проверка числа на простоту.**  Функция проверки числа на простоту примитивно-рекурсивна.
* <details>
  <summary>Haskell code</summary>

  ```haskell
  eq :: [Int] -> Int
  eq = s if' [s lower [u 1, u 2], z, s if' [s lower [u 2, u 1], z, one]]

  primef :: [Int] -> Int
  primef = s z [u 1]

  primeg :: [Int] -> Int
  primeg = s if' [s eq [u 2, one], one, s if' [s modhs [u 1, u 2], s prodhs [one, u 3], z]]

  prime :: [Int] -> Int
  prime = sr (r . (,,) primef primeg) [u 1, u 1]
  ```
  </details>
  

* **Частичный логарифм.** Частичный логарифм примитивно-рекурсивен.
* <details>
  <summary>Haskell code</summary>
  
  ```haskell
  div2while0h :: [Int] -> Int
  div2while0h = s if' [s eq [s div2 [u 1], z], u 2, s div2while0' [s div2 [u 1], s plus [u 2, one], z]]

  div2while0' :: [Int] -> Int
  div2while0' = sr (r . (,,) div2while0h z) [u 1, u 2, z]

  div2while0 :: [Int] -> Int
  div2while0 = s div2while0' [u 1, one]

  plogkh :: [Int] -> Int
  plogkh = s z [u 1]

  plogkg :: [Int] -> Int
  plogkg = s if' [s eq [s modhs [u 1, s powhs [u 2, u 3]], z], u 3, u 4]

  plogk :: [Int] -> Int
  plogk = sr (r . (,,) plogkh plogkg) [u 1, u 2, s plus [ s div2while0 [u 1], one]]
  ```
</details>
  

## 12. Выразимость отношений и представимость функций в формальной арифметике. Представимость примитивов $N$, $Z$, $S$, $U$ в формальной арифметике. 

* **Выразимое отношение.** Отношение $R$ называется выразимым (в формальной арифметике), если существует такая формула $\alpha(x_1,...x_n)$ с $n$ свободными переменными, что для любых натуральных чисел $k_1,...,k_n$
  
  1. если $(k_1,...,k_n)\in R$, то доказуемо $\alpha(\overline{k_1},...,\overline{k_n})$
  2. если $(k_1,...,k_n)\notin R$, то доказуемо $\neg\alpha(\overline{k_1},...,\overline{k_n})$

* **Представимость.** Функция $f$ от $n$ аргументов называется представимой в формальной арифметике, если существует такая формула $\alpha(x_1,...,x_{n+1})$ с $n+1$ свободной переменной, что для любых натуральных $k_1,...,k_n$:
  
  1. $f(k_1,...,k_n) = k_{n+1}$ тогда и только тогда, когда доказуемо $\alpha(\overline{k_1},...,\overline{k_{n+1}})$
  2. Доказуемо $\exist!b.\alpha(\overline{k_1},...,\overline{k_n},\overline{b})$,
    
       где $\exist!y.\alpha(y)=(\exist y.\alpha(y))\&\forall a.\forall b.\alpha(a)\&\alpha(b)\rightarrow a=b$

* **Характеристическое отношение** Назовём характеристическим отношением для функции $f$ отношение 

  $C_f=\{x_1,...,x_n,y|f(x_1,...,x_n)=y\}$

* **Характеристическая функция** Характеристической функцией отношения $R\subseteq\N_0^n$ назовем функцию $C_R:\subseteq N_0^n\rightarrow\N_0$, что:
  
  $$
    C_R(x_1,...,x_n) =
     \left \{
       \begin{array}{ll}
         1,\ если\ \langle x_1,...,x_n\rangle\in R \\
         0,\ иначе
       \end{array}
     \right.
  $$

* **Вспомогательные утверждения.** 
  <details><summary>Spoiler</summary>

  Для любого выводимого выражения мы можем составить этот же вывод с другими переменными, пусть $T\ :=\ 0=0\rightarrow 0=0\rightarrow 0=0$ (sch.ax.1) : \
  $Lemma\ 1)\vdash P[x:=\Theta ]$\
  $1.\ P \rightarrow T \rightarrow P$ (sch.ax.1)\
  $1.5\ P$ (т.к. это выводимое утверждение) \
  $2.\ T \rightarrow P$  (MP 1, 1.5) \
  $3.\ T \rightarrow \forall{x}.(P)$ (по правилу вывода(2) можно ввести кванторы по переменным внутри P, если эти переменные не входят свободно в T, что верно по построению) \
  $3.5\ T$ (sch.ax.1) \
  $4.\ \forall{x}.(P)$ (MP 3.5, 3) \
  $5.\ (\forall{x}.(P))\rightarrow (P[x:=\Theta ])$ (по sch.ax.11 можно заменить переменные по кванторам внутри P) \
  $6. (P[x:=\Theta])$ (MP 4,5)

  $Lemma\ 2)\ a=b\vdash b=a\\$
  $1.\ a=b\ (Hypothesis\ 1)\\$
  $2.\ a=a\ (нетрудно\ показать\ по\ Лемме\ 1)\\$
  $3.\ a=b\rightarrow a=a\rightarrow b=a\ (Ax.\ 2\ (FA))\\$
  $4.\ b=a\ (2\ MP\ from\ 3)\\$
  </details>

* **Представимость примитива $Z$ (Ноль).** Примитив $Z$ представим в ФА $\psi(x_1,x_2):=x_1=x_1\& x_2=0$
  
  <details><summary>Доказательство</summary>

  Возьмем формулу $\psi(x_1,x_2):=x_2=0$. Более формально: $\psi(x_1,x_2):=x_1=x_1\& x_2=0$, т.к. формула с какими-то параметрами требует наличие этих параметров в кач-ве свободных переменных.
  Теперь покажем представимость ((1)докажем эту формулу и (2) покажем, что выполняется только при одном аргументе).

  (1) $y=0\vdash(x=x)\&(y=0)\\$

    $1.\ y=0\ (Hypothesis\ 1)\\$
    $2.\ x=x\ (нетрудно\ показать\ по\ лемме\ 1)\\$ 
    $3.\ x=x\rightarrow y=0\rightarrow(x=x)\&(y=0)\ (Sch.\ Ax.\ 5)\\$
    $4.\ 2 MP\\$

  (2) $\vdash\exist_1y.\psi(x,y)$, $\exist y.(x=x)\&(y=0)$ доказано по пред пункту + $Sch.\ Ax\ 12$, тогда осталось доказать $\forall a.\forall b.((x=x)\&(a=0))\&((x=x)\&(b=0))\rightarrow a=b$

    $1.\ ((x=x)\&(a=0))\&((x=x)\&(b=0))\ (Hypothesis\ 1)\\$
    $2.\ ((x=x)\&(a=0))\ (Sch.\ Ax.\ 3\ (from\ 1)\ +\ MP)\\$
    $3.\ ((x=x)\&(b=0))\ (Sch.\ Ax.\ 4\ (from\ 1)\ +\ MP)\\$
    $4.\ a=0\ (Sch.\ Ax\ 4\ (from\ 2)\ +\ MP)\\$
    $5.\ b=0\ (Sch.\ Ax\ 4\ (from\ 3)\ +\ MP)\\$
    $6.\ 0=a\rightarrow 0=b\rightarrow a=b\ (Ax\ 2\ (FA))\\$
    $7.\ 0=a\ (Лемма\ 2)\\$
    $8.\ 0=b\ (Лемма\ 2)\\$
    $9.\ a=b\ (2\ MP\ from\ 6)\\$
    $10.\ Дедукция\\$
    $11.\ Навешивание\ кванторов\ по\ Лемме\ 1$ (половина леммы) 

  </details>

* **Представимость примитива $N$ (Инкремент).** Примитив $N$ представим в ФА. $\alpha(x_1,x_2):=x_2=x_1'$
  
  <details><summary>Доказательство</summary>
  
  Возьмем формулу: $\alpha(x_1,x_2):=x_2=x_1'$. Покажем представимость. TODO()
  </details>

* **Представимость примитива $U$ (Проекция).** Примитив $U$ представим в ФА
  $\beta(x_1,...,x_{n+1}):=(\&_{i\neq k}x_i=x_i)\&x_k=x_{n+1}$
  <details><summary>Доказательство</summary>
  
  Возьмем формулу: $\beta(x_1,...,x_{n+1}):=x_k=x_{n+1}$, формальнее: $\beta(x_1,...,x_{n+1}):=(\&_{i\neq k}x_i=x_i)\&x_k=x_{n+1}$. Покажем представимость. Доказательство почти такое же как с примитивом $Z$, единственная проблема, это большое кол-во конъюнкций (но они все очевидно доказуемы).
  </details>

* **Представимость примитива $S$ (Подстановка).** Пусть функции  $f,g_1,..,g_k$ представимы в ФА. Тогда $S\langle f,g_1,..,g_k\rangle$ представим в ФА $\exist g_1...\exist g_k.\phi(g_1,...,g_k,x_{n+1})\&\gamma_1(x_1,...,x_n,g_1)\&...\&\gamma_k(x_1,...x_n,g_k)$
  
  <details><summary>Доказательство</summary>
  
  Пусть $f,g_1,..,g_k$ представляются формулами $\phi,\gamma_1,..\gamma_k$.
  Тогда $S\langle f,g_1,..,g_k\rangle$ будет представлена формулой:

    $\exist g_1...\exist g_k.\phi(g_1,...,g_k,x_{n+1})\&\gamma_1(x_1,...,x_n,g_1)\&...\&\gamma_k(x_1,...x_n,g_k)$
    
    Суть. У нас есть выражения $\gamma_i$, которые истинны, когда последний аргумент есть результат применения функции $g$ к первым аргументам $x_i$, но как взять результаты мы не знаем, при этом зная, что они существуют (потому что функции $f,g_i$ представимы и дают какой-то результат) поэтому навешиваем квантор существования.
    1. Подаем $x_i$ 
    2. Угадываем результаты промежуточные результаты с помощью квантора существования
    3. Подставляем в формулу $\phi$ промежуточные результаты, а $x_{n+1}$ результат всей подстановки $S$

  Формальное док-во???
  </details>


 ## 13. Бета-функция Гёделя. Представимость примитивов $R$ и $M$ и рекурсивных функций в формальной арифметике.

* **$\beta$-функция Гёделя.** $\beta(b,c,i):=b\%(1+(i+1)\ast c)$
    
  Здесь $b,c$ параметры, а $i$ - какой-то элемент последовательности. Ака $b,c$ определяют что за массив, а $i$ говорит о каком-то индексе.
    
    <details><summary>Представление бета-функции в ФА</summary>

    $\beta$-функция Гёделя представима в ФА формулой:
    $\beta(c,d,i,d):=\exist q.(b=q\ast(1+c\ast(i+1))+d)\&(d<1+c\ast(i+1))$\
    Деление $b$ на $x$ с остатком: найдутся частное ($q$) и остаток ($d$), что $b=q\ast x+d$ и $0\leq d<x$
    
    Доказать формально???
    </details>
  
  **Теорема.** Китайская теорема об остатках (вариант формулировки):

  если $u_0,...,u_n$ - попарно взаимно-просты, и $0\leq a_i<u_i$, то существует такой $b$, что $a_i=b\%u_i$ 
  
  **Теорема.** Главное свойство $\beta$-функции.

  Если $a_0,...,a_n\in\N_0$, то найдутся такие $b,c\in\N_0$, что $a_i=\beta(b,c,i)$

  <details><summary>Доказательство</summary>
  
  Положим $c=max(a_0,...,a_n,n)!$ и $u_i=1+c\ast(i+1)$.
   1. Покажем $НОД(u_i,u_j)=1$, если $i\neq j$. Доказательство от противного. Пусть $p$-простое, $u_i\ делится\  на\  p$ и $u_j\ делится\  на\ p\ (i<j)$. Заметим, что $u_j-u_i=c\ast(j-i)$. Значит, $c\ делится\  на\  p$ или $(j-i)\ делится\  на\  p$. Т.к. $j-i\leq n$, то $c\ делится\  на\ (j-i)$, поэтому если и $j-i\ делится\  на\  p$, то все равно $c\ делится\  на\  p$. Но и $1+c\ast(i+1)\ делится\  на\ p$, отсюда $1\ делится\ на\ p$ - что невозможно.
   2. $0\leq a_i< u_i$. Очевидно из определения.
   
   Условие китайской теоремы выполняется и найдется $b$, что:
   $a_i=b\%(1+(i+1)\ast c)=\beta(b,c,i)$

  </details> 
    

* **Представимость примитива $R$ (Примитивная рекурсия).** Примитив $R$ представим в ФА. примитив $R\langle f,g\rangle$ представим в ФА формулой $\rho(x_1,...,x_n,y,a)$:

  $\exist b.\exist c.(\exist a_0.\beta(b,c,0,a_0)\&\phi(x_1,...,x_n,a_0))\\$
  $\&\forall k.k<y\rightarrow\exist d.\exist e.\beta(b,c,k,d)\&\beta(b,c,k',e)\&\gamma(x_1,...,x_n,k,d,e)\\$
  $\&\beta(b,c,y,a)$
  
  <details><summary>Доказательство</summary>

  Начнем с понимания определения примитивной рекурсии. Это цикл, который многократно вызывает функции в процессе вычисления. Соответственно, чтобы удостовериться в том, что цикл действительно правильно выполняется, нам надо запомнить каждую итерацию и проверить, что она действительно получается из предыдущей. Следовательно надо научиться строить длинные списки и каким-то образом научиться их представлять в рамках натуральных чисел.

  Пусть $f:\N_0^n\rightarrow\N_0$ и $g:\N_0^{n+2}\rightarrow\N_0$ представлены формулами $\phi$ и $\gamma$. Зафиксируем $x_1,...,x_n,y\in\N_0$
  | Шаг вычисления | Обозначение | Утверждение в ФА |
  | -------------- | ----------- | ---------------- |
  | $R\langle f,g\rangle(x_1,...,x_n,0) = f(x_1,...,x_n)$ | $a_0$ | $\vdash\phi(\overline{x_1},...,\overline{x_n},\overline{a_0})$ |
  | $R\langle f,g\rangle(x_1,...,x_n,1) = g(x_1,...,x_n,0,a_0)$ | $a_0$ | $\vdash\gamma(\overline{x_1},...,\overline{x_n},\overline{a_1})$ |
  | ... | ... | ... |
  | $R\langle f,g\rangle(x_1,...,x_n,1) = g(x_1,...,x_n,y-1,a_{y-1}$ | $a_y$ | $\vdash\gamma(\overline{x_1},...,\overline{x_n},\overline{a_y})$ |
  По свойству $\beta$-функции, найдутся $b$ и $c$, что $\beta(b,c,i)=a_i$ для $0\leq i\leq y$

  Таким образом примитив $R\langle f,g\rangle представим в ФА формулой $\rho(x_1,...,x_n,y,a)$:

  $\exist b.\exist c.(\exist a_0.\beta(b,c,0,a_0)\&\phi(x_1,...,x_n,a_0))\\$
  $\&\forall k.k<y\rightarrow\exist d.\exist e.\beta(b,c,k,d)\&\beta(b,c,k',e)\&\gamma(x_1,...,x_n,k,d,e)\\$
  $\&\beta(b,c,y,a)$

  Пояснение.
  1 строка. $b,c$ просто параметры. 1 скобка. Есть значение $a_0$, которое с одной стороны, является запомненным значением $\beta$-функции Гёделя с 0 значением, с другой стороны является значением применения функции $f$ к аргументам $x_i$. 
  2 строка. Промежуточные значения задаются формулой $\gamma$. Бета-функция от двух соседних элементов равно $d,e$ соответственно и результат применение $\gamma\ from\ x_i\ and\ d=e$
  3 строка. Последний элемент данного выражения есть последний элемент бета-функции Гёделя
  Формальное доказательство???
  </details>

* **Представимость примитива $M$ (Минимизация).** Примитив $M$ представим в ФА. Пусть функция $f:\N_0^{n+1}\rightarrow\N_0$ представима в ФА формулой $\phi(x_1,...,x_n,y)$. Тогда примитив $M\langle f\rangle$ представим в ФА формулой: 

  $\mu(x_1,...,x_n,y):=\neg\phi(x_1,...,x_n,y,0)\&\forall u.u<y\rightarrow\phi(x_1,...,x_n,u,0)$
  
  <details><summary>Доказательство</summary>
  Формальное док-во???
  </details>

* **Представимость рекурсивных в формальной арифметике.** Рекурсивные функции представимы в формальной арифметике (индукция по длине док-ва) 
  
  <details><summary>Доказательство</summary>
  Индукция по структуре. Берем функцию, смотрим какой примитв находится сверху и рекурсивно раскрываем все эти примитивы в последовательность формул.
  </details>

 ## 14. Гёделева нумерация. Рекурсивность представимых в формальной арифметике функций.

* **Гёделева нумерация (Способ представления доказательств в виде натуральных чисел).** Будем называть Гёделевой нумераций следующую конструкцию. Пусть $\langle a_0,...,a_{n-1}\rangle$-некоторый список положительных натуральных чисел. Пусть $p_i$-простое число номер $i$, тогда Гёделева нумерация этого списка:

    $\ulcorner\langle a_0,...,a_{n-1}\rangle\urcorner=2^{a_0}\ast 3^{a_1}\ast...\ast p_{n-1}^{a_{n-1}}$

* Также мы можем составить Гёделеву нумерацию для всей программы, в т.ч. для отдельных символов:
    | Номер                  | Символ        |
    | ---------------------- | ------------- |
    | $3$                    | (             |
    | $5$                    | )             |
    | $7$                    | '             |
    | $9$                    | .             |
    | $11$                   | $\neg$        |
    | $13$                   | $\rightarrow$ |
    | $15$                   | $\lor$        |
    | $17$                   | $\&$          |
    | $19$                   | $\forall$     |
    | $21$                   | $\exist$      |
    | $23$                   | $\vdash$      |
    | $25+6k$                | $x_k$         |
    | $27+6\ast 2^k\ast 3^n$ | $f_k^n$       |
    | $29+6\ast 2^k\ast 3^n$ | $p_k^n$       |

    Формула. $\phi\equiv s_0s_1...s_{n-1}$. Гёделев номер $\ulcorner\phi\urcorner=2^{\ulcorner s_1\urcorner}\ast ...\ast p_{n-1}^{\ulcorner s_{n-1}\urcorner}$

    Доказательство. $П=\delta_0\delta_1...\delta_{k-1}$, его Гёделев номер:
    $\ulcorner П\urcorner=2^{\ulcorner\delta_1\urcorner}\ast ...\ast p_{n-1}^{\ulcorner \delta_{k-1}\urcorner}$

* **Рекурсивность функций представимых в ФА.** Функции, представимые в ФА, рекурсивны. То есть, если  мы можем про функцию доказать, что эта функция действительна равна такому значению, то значит мы можем написать программу, которая ее вычисляет. 

  Более формально. Если $f:\N_0^n\rightarrow\N_0$, и $f$ представима в ФА формулой $\phi$, то $f$ - рекурсивна.

  <details><summary>Доказательство</summary>
  
    <details><summary>План</summary>

    Требуется построение программы, вычисляющее значения произвольной функции, про которую известно, что существует доказательство, что это функция равна своему значению.
    Фиксируем $f$ и $x_1,x_2,...,x_n$. Обозначим $y=f(x_1,...,x_n)$. По представимости нам известна $\phi$, что $\vdash\phi(\overline{x_1},...,\overline{x_n},\overline{y})$. Давайте переберем все результаты и доказательства. Как только найдем доказательство, что функция равна этому значению, то мы можем получить это значение и вернуть его наружу.

    1. Закодируем доказательства натуральными числами (Гёделева нумерация)
    2. Напишем рекурсивную функцию, проверяющую доказательства на корректность
    3. Параллельный перебор значений и доказательств: $s=2^y\ast 3^p$. Переберем все $s$, по $s$ получим $y$ и $p$. Проверим, что $p$ - код доказательства $\vdash\phi(\overline{x_1},...,\overline{x_n},\overline{y})$.

    </details>

    1. Кодирование док-ва натуральными числами
    Гёделева нумерация
    2. Проверка на корректность

       **Теорема.** Следующая функция рекурсивна:
       $$
         proof(f,x_1,x_2,...,x_n,y,p) =
           \left \{
             \begin{array}{ll}
               1, если \vdash\phi(\overline{x_1},...,\overline{x_n},\overline{y}),\ p\ -\ Гёделев\ номер\ вывода,\ f=\ulcorner\phi\urcorner\\
               0, иначе
             \end{array}
           \right.
         $$

       Идея доказательства
       1. Проверка доказательства вычислима.
       2. Согласно тезису Чёрча, любая вычислимая функция вычислима с помощью рекурсивных функций.  
    3. Перебор доказательств\
       **Лемма.** Следующие функции рекурсивны:
       1. Функции $plog_k(n)=max\{p:n\ \vdots\ k^p\},\ fst(x)=plog_2(x),\ snd(x)=plog_3(x)$
       2. Числовые литералы: $\overline{k}:\N_0\rightarrow\N_0,\overline{k}(x)=k$
    
    **Теорема.** Если $f:\N_0^n\rightarrow\N_0$, и $f$ представима в ФА формулой $\phi$, то $f$ - рекурсивна.\
    
    Пусть заданы $x_1,...,x_n$. Ищем $\langle y,p\rangle$, что $proof(\ulcorner\phi\urcorner,x_1,x_2,...,x_n,y,p)=1$, напомним: $y=f(x_1,...,x_n),p=\ulcorner П\urcorner$, $П$ - доказательство $\phi(\overline{x_1},...,\overline{x_n},\overline{y})$.

    $f=S\langle fst,M\langle S\langle proof,\overline{\ulcorner\phi\urcorner},U_1^{n+1},...,U_{n+1}^n,S\langle fst,U_{n+1}^{n+1}\rangle,S\langle snd,U_{n+1}^{n+1}\rangle\rangle\rangle\rangle$
    
    $M$ - перебирает результаты и доказательства
    $S\langle fst,U_{n+1}^{n+1}\rangle$ - берет результат
    $S\langle snd,U_{n+1}^{n+1}\rangle$ - берет доказательство

  </details>

 ## 15.  Непротиворечивость и $\omega$-непротиворечивость. Первая теорема Гёделя о неполноте арифметики, её неформальный смысл.

  <details><summary>Некоторые определения</summary>

  * **Проблема останова.** Не существует функции ```bool p (std::string source, std::string arg)```, возвращающей $true$ тогда и только тогда, когда функция с исходным кодом $source$ (имеющая аргумент типа ```std::string```) оканчивает работу, если ей передать на вход значение $arg$
    
    *Доказательство.* Предположим, что такая функция $p$ существует и определим функцию $s$: если ей дают на вход программу, которая останавливается (останавливается на самоприменении), то программа (функция) $s$ зацикливается; если подать на вход то, что зацикливается, то она останавливается и возвращает истину.
    ```cpp
    bool s (std::string arg) {
      if (p(arg,arg)) { while true; }
      return true;
    }
    ```
    Ее полный исходный код - в переменной $s\_source\\$
    Что вернет ```p (s_source, s_source)```? Если возвращаемое $p$ истинно, то $s$ должна остановиться, но по ее исходному коду она зациклиться. Если возвращаемое $p$ ложна, то $s$ должна зациклиться, но по ее исходному коду она должна остановиться. Противоречие.\
    Из этого получаем, что такой функции $p$ не существует.

  * **Самоприменимость.** $W_1:W_1(x,p)=1$, если $x=\ulcorner \xi\urcorner$, где $\xi$ - формула с единственной свободной переменной $x_1$, а $p$ - доказательство самоприменения $\xi$:

    $\vdash\xi(\overline{\ulcorner \xi\urcorner})\\$
    $W_1(x,p)=0$, если это не так.

  **Теорема.** Существует формула $\omega_1$ со свободными переменными $x_1,x_2$, такая, что:

  1. $\vdash\omega_1(\overline{\ulcorner\phi\urcorner}, \overline{p})$, если $p$ - гёделев номер доказательства самоприменения $\phi$;
  2. $\vdash\neg\omega_1(\overline{\ulcorner\phi\urcorner}, \overline{p})$, иначе

  Док-во. $W_1$ рекурсивна, то есть представима в ФА формулой $o_1$. Функция такая же как и $proof$ (add ref to proof TODO()). 

  Возьмем $\omega_1(x_1,x_2):=o_1(x_1,x_2,\overline{1})$.
  </details>

* **Непротиворечивость.** Формальная арифметика непротиворечива, если нет формулы $\alpha$, что $\vdash\alpha$ и $\vdash\neg\alpha$

* **$\omega$-непротиворечивость.** Формальная арифметика $\omega$-непротиворечива, если для любой формулы $\phi(x)$, что
   * $\vdash\phi(\overline{p})$ при всех $p\in\N_0$ выполнено $\nvdash\exist p.\neg\phi(p)$ 
   * (менее формально) пусть $\vdash\phi(\overline{0}),\vdash\phi(\overline{1})$... Значит, нет $p$, что $\vdash\neg\phi(p)$

* **Теорема.** Если формальная арифметика $\omega$-непротиворечива, то она непротиворечива.

  <details><summary>Доказательство</summary>
  Пусть $\phi(x):=(x=x\rightarrow x=x)$. Очевидно, что $\vdash\phi$ при любом $x$. Пусть существует $\beta$, что $\vdash\beta$ и $\neg\vdash\beta$. Тогда из ИВ известно $\vdash\beta\rightarrow\neg\beta\rightarrow\exist p.\neg(x=x\rightarrow x=x)$. После двух $MP$ получаем нарушение $\omega$-противоречивости. 
  </details>



* **Первая теорема Гёделя о неполноте арифметики.**

    **Def.** $\sigma(x):=\forall p.\neg\omega_1(x,p)$. Не существует доказательства $p$ для самоприменения $x$. 
   
    **Теорема Гёделя**
    
    * Если формальная арифметика непротиворечива, то $\nvdash\sigma(\overline{\ulcorner\sigma\urcorner})$ 
    * Если формальная арифметика $\omega$-непротиворечива, то $\nvdash\neg\sigma(\overline{\ulcorner\sigma\urcorner})$

    <details><summary>Доказательство</summary>
    
    Покажем, что $\nvdash\sigma(\overline{\ulcorner\sigma\urcorner})$

    1. Пусть $\vdash\sigma(\overline{\ulcorner\sigma\urcorner})$ и $p$ - гёделев номер доказательства. Значит, что $W_1(\ulcorner\sigma\urcorner,p)=1$, то есть $\vdash\omega_1(\overline{\ulcorner\sigma\urcorner},\overline{p})$.

        С другой стороны $\vdash\sigma(\overline{\ulcorner\sigma\urcorner})$ - то же, что $\vdash\forall p.\neg\omega_1(\overline{\ulcorner\sigma\urcorner},p)$. Отсюда выводится $\vdash\neg\omega_1(\overline{\ulcorner\sigma\urcorner},\overline{p})$ (Sch. Ax. 11 + MP). Противоречие
    
    2. Пусть $\vdash\neg\sigma(\overline{\ulcorner\sigma\urcorner})$, то есть $\vdash\neg\forall p.\neg\omega_1(\overline{\ulcorner\sigma\urcorner},p)$, то есть $\vdash\exist p.\omega_1(\overline{\ulcorner\sigma\urcorner},p)$. 
        
        Неизбежно найдется $q$, что $\vdash\omega_1(\overline{\ulcorner\sigma\urcorner},\overline{q})$, поскольку для каждого $q\in\N_0$ выполнено  $\vdash\neg\omega_1(\overline{\ulcorner\sigma\urcorner},\overline{q})$, то по $\omega$-непротиворечивости $\nvdash\exist p.\neg\neg\omega_1(\overline{\ulcorner\sigma\urcorner},p)$. 
        
        Но тогда $W_1(\ulcorner\sigma\urcorner,q)=1$ и тогда $\vdash\sigma(\overline{\ulcorner\sigma\urcorner})$. Противоречие (Еще раз прочекать TODO())

        
    </details>

    $\sigma(x):=\forall p.\neg\omega_1(x,p)$: $\sigma(\overline{\ulcorner\sigma\urcorner})$ означает "я не доказуема". При этом мы показали, что она не доказуема, значит она истинна? Покажем это формально.
    
    **Теорема** $\models\sigma(\overline{\ulcorner\sigma\urcorner})$ В стандартной интерпретации формальной арифметики: $D=\N_0,a'=a+1$ и т.д.
    
    <details>
    <summary>Доказательство</summary>
      
    $\nvdash\sigma(\overline{\ulcorner\sigma\urcorner})$, значит, при любом $p\in\N_0$ выполнено $W_1(\ulcorner\sigma\urcorner,p)=0$. То есть, $[\neg\omega_1(\ulcorner\sigma\urcorner,p)]=И$, то есть $[\forall p.\neg\omega_1(x,p)$: $\sigma(\overline{\ulcorner\sigma\urcorner})] = [\sigma(\overline{\ulcorner\sigma\urcorner})]=И$
    
    </details>

         
 ## 16. Формулировка первой теоремы Гёделя о неполноте арифметики в форме Россера, её неформальный смысл. Формулировка второй теоремы Гёделя о неполноте арифметики, $Consis$. Неформальное пояснение метода доказательства.

* **Первая теорема Гёделя в форме Россера.** 
    
    * **Def.** $W_2(x,p)=1$, если p-доказательство отрицания самоприменения.
    * **Лемма.** Существует формула $\omega_2$, что $\vdash\omega_2(\overline{x},\overline{p})$, если $W_2(x,p)=1$, иначе $\vdash\neg\omega_2(\overline{x},\overline{p})$
    * **Теорема**. Пусть $\rho(x):=\forall p.\omega_1(x,p)\rightarrow\exist q.q<p\&\omega_2(x,q)$, тогда $\nvdash \rho(\overline{\ulcorner\rho\urcorner})$ и $\nvdash\neg \rho(\overline{\ulcorner\rho\urcorner})$

       Описание. Мы говорим, что если $p$ является доказательством самоприменения $x$, то найдется доказательство $q$, причем, с меньшим Гёделевым номером, чем $p$, который является док-вом отрицания самоприменения $x$. Тогда не доказуемо ни самоприменение $\rho$, ни отрицание самоприменения.

       Менее формальное определение теоремы. Если существует доказательство самоприменения $\rho$, то существует и доказательство отрицания самоприменения $\rho$, причем с меньшим номером

* **Формула $Consis$.** 
    
    * **Теорема.** Существует формула $\pi(x,p)$ - доказуемая тогда и только тогда, когда $proof(x,p)=1$. Проверка, что $p$ является доказательством $x$
    * **Def.** Формула *"доказуемо"*: $\pi_r(x):=\exist p.\pi(x,p)$. Если найдется $p$ - гёделев номер доказательства $x$
    * **Def.** $Consis:=\neg\pi_r(\overline{\ulcorner\overline{1}=0\urcorner})$. Если формальная арифметика непротиворечива, то ожидаем, что формула $Consis$ истинна.
    
​    
* **Вторая теорема Гёделя о неполноте арифметики.**

  $\vdash Consis\rightarrow\sigma(\overline{\ulcorner\sigma\urcorner})$ 

  <details><summary>Идея доказательства</summary>
  
  * Первая теорема Гёделя, часть 1: *если формальная арифметика непротиворечива, то недоказуемо $\sigma(\overline{\ulcorner\sigma\urcorner})$*
  * Недоказуемость $\sigma(\overline{\ulcorner\sigma\urcorner})$ означает истинность этого утверждения.
  * Итого, первая теорема Гёделя утверждает, что $Consis\rightarrow\sigma(\overline{\ulcorner\sigma\urcorner})$ истинно. Рассуждение оказывается возможным формализовать.
  </details> 
 
  *"Если непротиворечивость формальной арифметики может быть доказана в формальной арифметике, то формальная арифметика противоречива"* 


## Дополнение.

* **Генценовский тип исчисления (Нормальный вывод).**

  1. Аксиома.
    $$ 
      {{}\over{\Gamma,\alpha\vdash\alpha}}
    $$

  2. Введение импликации.
    $$ 
      {{\Gamma,\alpha\vdash\beta}\over{\Gamma\vdash\alpha\rightarrow\beta}}
    $$

  3. Удаление импликации.
    $$
      {{\Gamma\vdash\alpha\rightarrow\beta\ \ \Gamma\vdash\alpha}\over{\Gamma\vdash\beta}}
    $$

  4. Введение конъюнкции.
    $$
      {{\Gamma\vdash\alpha\ \ \Gamma\vdash\beta}\over{\Gamma\vdash\alpha\&\beta}}
    $$
  
  5. Удаление конъюнкции.
    $$
      {{\Gamma\vdash\alpha\&\beta}\over{\Gamma\vdash\alpha}}\ \ 
      {{\Gamma\vdash\alpha\&\beta}\over{\Gamma\vdash\beta}} 
    $$
  
  6. Введение дизъюнкции.
    $$
      {{\Gamma\vdash\alpha}\over{\Gamma\vdash\alpha\vee\beta}}\ \  
      {{\Gamma\vdash\beta}\over{\Gamma\vdash\alpha\vee\beta}} 
    $$
  7. Удаление дизъюнкции.
    $$
      {{\Gamma,\alpha\vdash\gamma\ \ \Gamma,\beta\vdash\gamma\ \ \Gamma\vdash\alpha\vee\beta}\over{\Gamma\vdash\gamma}}
    $$
  8. Ложь.
    $$
      {{\Gamma\vdash\perp}\over{\Gamma\vdash\alpha}}
    $$ 
